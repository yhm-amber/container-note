[src/gh]: https://github.com/valeriansaliou/sonic.git "(MPL-2.0) (Languages: Rust 98.4%, Other 1.6%) ğŸ¦” Fast, lightweight & schema-less search backend. An alternative to Elasticsearch that runs on a few MBs of RAM. // ğŸ¦” å¿«é€Ÿã€è½»é‡çº§ä¸”æ— æ¨¡çš„æœç´¢åç«¯ã€‚ Elasticsearch çš„æ›¿ä»£æ–¹æ¡ˆï¼Œåœ¨å‡  MB RAM ä¸Šè¿è¡Œã€‚ /// Sonic is a fast, lightweight and schema-less search backend. It ingests search texts and identifier tuples that can then be queried against in a microsecond's time. // Sonic æ˜¯ä¸€ä¸ªå¿«é€Ÿã€è½»é‡çº§ä¸”æ— æ¨¡å¼çš„æœç´¢åç«¯ã€‚å®ƒæ‘„å–æœç´¢æ–‡æœ¬å’Œæ ‡è¯†ç¬¦å…ƒç»„ï¼Œç„¶åå¯ä»¥åœ¨ä¸€å¾®ç§’çš„æ—¶é—´å†…å¯¹å…¶è¿›è¡ŒæŸ¥è¯¢ã€‚ /// Sonic can be used as a simple alternative to super-heavy and full-featured search backends such as Elasticsearch in some use-cases. It is capable of normalizing natural language search queries, auto-completing a search query and providing the most relevant results for a query. Sonic is an identifier index, rather than a document index; when queried, it returns IDs that can then be used to refer to the matched documents in an external database. // åœ¨æŸäº›ç”¨ä¾‹ä¸­ï¼ŒSonic å¯ä»¥ç”¨ä½œè¶…é‡å‹ã€å…¨åŠŸèƒ½æœç´¢åç«¯ï¼ˆä¾‹å¦‚ Elasticsearchï¼‰çš„ç®€å•æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒèƒ½å¤Ÿè§„èŒƒè‡ªç„¶è¯­è¨€æœç´¢æŸ¥è¯¢ã€è‡ªåŠ¨å®Œæˆæœç´¢æŸ¥è¯¢å¹¶æä¾›ä¸æŸ¥è¯¢æœ€ç›¸å…³çš„ç»“æœã€‚ Sonicæ˜¯æ ‡è¯†ç¬¦ç´¢å¼•ï¼Œè€Œä¸æ˜¯æ–‡æ¡£ç´¢å¼•ï¼›æŸ¥è¯¢æ—¶ï¼Œå®ƒä¼šè¿”å› IDï¼Œç„¶åå¯ä½¿ç”¨è¿™äº› ID æ¥å¼•ç”¨å¤–éƒ¨æ•°æ®åº“ä¸­çš„åŒ¹é…æ–‡æ¡£ã€‚ /// A strong attention to performance and code cleanliness has been given when designing Sonic. It aims at being crash-free, super-fast and puts minimum strain on server resources (our measurements have shown that Sonic - when under load - responds to search queries in the Î¼s range, eats ~30MB RAM and has a low CPU footprint; see our benchmarks). // åœ¨è®¾è®¡ Sonic æ—¶ï¼Œæˆ‘ä»¬éå¸¸æ³¨é‡æ€§èƒ½å’Œä»£ç ç®€æ´æ€§ã€‚å®ƒçš„ç›®æ ‡æ˜¯æ— å´©æºƒã€è¶…å¿«ï¼Œå¹¶å¯¹æœåŠ¡å™¨èµ„æºæ–½åŠ æœ€å°çš„å‹åŠ›ï¼ˆæˆ‘ä»¬çš„æµ‹é‡è¡¨æ˜ï¼ŒSonic åœ¨è´Ÿè½½ä¸‹æ—¶å“åº” Î¼s èŒƒå›´å†…çš„æœç´¢æŸ¥è¯¢ï¼Œå ç”¨çº¦ 30MB RAMï¼Œå¹¶ä¸” CPU å ç”¨ç©ºé—´è¾ƒä½ï¼›è¯·å‚é˜…æˆ‘ä»¬çš„åŸºå‡†ï¼‰ã€‚ /// ğŸ‡«ğŸ‡· Crafted in Nantes, France. // ğŸ‡«ğŸ‡· åœ¨æ³•å›½å—ç‰¹åˆ¶ä½œã€‚ /// Sonic supports a wide range of languages in its lexing system. If a language is not in this list, you will still be able to push this language to the search index, but stop-words will not be eluded, which could lead to lower-quality search results. // Sonic çš„è¯æ³•åˆ†æç³»ç»Ÿæ”¯æŒå¤šç§è¯­è¨€ã€‚å¦‚æœæŸç§è¯­è¨€ä¸åœ¨æ­¤åˆ—è¡¨ä¸­ï¼Œæ‚¨ä»ç„¶å¯ä»¥å°†è¯¥è¯­è¨€æ¨é€åˆ°æœç´¢ç´¢å¼•ï¼Œä½†ä¸ä¼šé¿å¼€åœç”¨è¯ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æœç´¢ç»“æœè´¨é‡è¾ƒä½ã€‚"

[crates]: https://crates.io/crates/sonic-server "(: cargo install -- sonic-server) (:: sonic -c /path/to/config.cfg) default cfg might be `/etc/sonic.cfg`. /// Install `build-essential`, `clang`, `libclang-dev`, `libc6-dev`, `g++` and `llvm-dev` to be able to compile the required *RocksDB* dependency."
[bin/brew]: https://formulae.brew.sh/formula/sonic "(: brew install -- sonic)"
[oci/dockerhub]: https://hub.docker.com/r/valeriansaliou/sonic "(: docker run -p 1491:1491 -v /path/to/your/sonic/config.cfg:/etc/sonic.cfg -v /path/to/your/sonic/store/:/var/lib/sonic/store/ -- valeriansaliou/sonic) In the configuration file, ensure that: // åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼ˆå°±æ˜¯è¯´å®¹å™¨åŒ–æ—¶å€™çš„é…ç½®æ–‡ä»¶ä¼šæœ‰ç‚¹ä¸ä¸€æ ·ï¼‰ï¼Œç¡®ä¿ï¼š /// - `channel.inet` is set to `0.0.0.0:1491` (this lets Sonic be reached from outside the container) // `channel.inet` è®¾ç½®ä¸º `0.0.0.0:1491` (è¿™å¯ä»¥è®© Sonic ä»å®¹å™¨å¤–éƒ¨è®¿é—®) /// - `store.kv.path` is set to `/var/lib/sonic/store/kv/` (this lets the external KV store directory be reached by Sonic) // `store.kv.path` è®¾ç½®ä¸º `/var/lib/sonic/store/kv/` (è¿™ä½¿å¾— Sonic å¯ä»¥è®¿é—®å¤–éƒ¨ KV å­˜å‚¨ç›®å½• (å³ `/path/to/your/sonic/store/kv/`)) /// - `store.fst.path` is set to `/var/lib/sonic/store/fst/` (this lets the external FST store directory be reached by Sonic) // `store.fst.path` è®¾ç½®ä¸º `/var/lib/sonic/store/fst/` (ä½¿ Sonic å¯ä»¥è®¿é—®å¤–éƒ¨ FST å­˜å‚¨ç›®å½•) /// Sonic will be reachable from `tcp://localhost:1491`. // ç„¶åå°±å¯ä»¥ä» `tcp://localhost:1491` è®¿é—® Sonic äº†ã€‚"

[benchmark]: https://github.com/valeriansaliou/sonic#how-fast--lightweight-is-it "Sonic was built for Crisp from the start. As Crisp was growing and indexing more and more search data into a full-text search SQL database, we decided it was time to switch to a proper search backend system. When reviewing Elasticsearch (ELS) and others, we found those were full-featured heavyweight systems that did not scale well with Crisp's freemium-based cost structure. // Sonic ä»ä¸€å¼€å§‹å°±æ˜¯ä¸º Crisp æ‰“é€ çš„ã€‚éšç€ Crisp çš„å‘å±•å¹¶å°†è¶Šæ¥è¶Šå¤šçš„æœç´¢æ•°æ®ç´¢å¼•åˆ°å…¨æ–‡æœç´¢ SQL æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬å†³å®šæ˜¯æ—¶å€™åˆ‡æ¢åˆ°é€‚å½“çš„æœç´¢åç«¯ç³»ç»Ÿäº†ã€‚åœ¨å®¡æŸ¥ Elasticsearch (ELS) å’Œå…¶ä»–ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å‘ç°è¿™äº›éƒ½æ˜¯åŠŸèƒ½é½å…¨çš„é‡é‡çº§ç³»ç»Ÿï¼Œæ— æ³•å¾ˆå¥½åœ°é€‚åº” Crisp åŸºäºå…è´¹å¢å€¼çš„æˆæœ¬ç»“æ„ã€‚ /// At the end, we decided to build our own search backend, designed to be simple and lightweight on resources. // æœ€åï¼Œæˆ‘ä»¬å†³å®šæ„å»ºè‡ªå·±çš„æœç´¢åç«¯ï¼Œè®¾è®¡ç®€å•ä¸”èµ„æºè½»é‡ã€‚ /// You can run function-level benchmarks with the command: `cargo bench --features benchmark` // æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œå‡½æ•°çº§åŸºå‡†æµ‹è¯•ï¼š `cargo bench --features benchmark` "
[test.online]: https://help.crisp.chat/ "You can test Sonic live on: Crisp Helpdesk, and get an idea of the speed and relevance of Sonic search results. You can also test search suggestions from there: start typing at least 2 characters for a word, and get suggested a full word (press the tab key to expand suggestion). Both search and suggestions are powered by Sonic. // æ‚¨å¯ä»¥åœ¨ Crisp Helpdesk ä¸Šå®æ—¶æµ‹è¯• Sonicï¼Œå¹¶äº†è§£ Sonic æœç´¢ç»“æœçš„é€Ÿåº¦å’Œç›¸å…³æ€§ã€‚æ‚¨è¿˜å¯ä»¥ä»é‚£é‡Œæµ‹è¯•æœç´¢å»ºè®®ï¼šå¼€å§‹ä¸ºä¸€ä¸ªå•è¯è¾“å…¥è‡³å°‘ 2 ä¸ªå­—ç¬¦ï¼Œç„¶åè·å¾—å®Œæ•´å•è¯çš„å»ºè®®ï¼ˆæŒ‰ Tab é”®å±•å¼€å»ºè®®ï¼‰ã€‚æœç´¢å’Œå»ºè®®å‡ç”± Sonic æä¾›æ”¯æŒã€‚"

[auther.site]: https://valeriansaliou.name/

[blog:first-journal/auther.site]: https://journal.valeriansaliou.name/announcing-sonic-a-super-light-alternative-to-elasticsearch/
