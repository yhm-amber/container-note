[src/gh]: https://github.com/coder/guts.git '(CC0-1.0) (Languages: Go 90.6%, TypeScript 8.1%, JavaScript 1.1%, HTML 0.2%) Guts is a code generator that converts Golang types to Typescript. Useful for keeping types in sync between the front and backend. // Guts 是一个代码生成器，可以将 Golang 类型转换为 Typescript。适用于保持前后端类型同步。 /// guts is a tool to convert golang types to typescript for enabling a consistent type definition across the frontend and backend. It is intended to be called and customized as a library, rather than as a command line executable. // guts 是一个将 golang 类型转换为 typescript 的工具，用于在前后端之间保持一致的类型定义。它旨在作为库调用和定制，而不是作为命令行可执行文件。 /// guts is a library, not a command line utility. This is to allow configuration with code, and also helps with package resolution. // guts 是一个库，而不是一个命令行工具。这是为了允许通过代码进行配置，并且有助于包解析。 /// How it works // 工作原理 /// guts first parses a set of golang packages. The Go AST is traversed to find all the types defined in the packages. // guts 首先解析一组 golang 包。遍历 Go 抽象语法树（AST）以找到包中定义的所有类型。 /// These types are placed into a simple AST that directly maps to the typescript AST. // 这些类型被放置到一个简单的 AST 中，该 AST 直接映射到 TypeScript 的 AST。 /// Using goja (. gh: dop251/goja.git), these types are then serialized to typescript using the typescript compiler API. // 使用 goja，这些类型随后通过 TypeScript 编译器 API 序列化为 TypeScript。 /// (: golang, _ := guts.NewGolangParser() // Step 1: Create a new Golang parser ;: golang.PreserveComments() // Optional: Preserve comments from the golang source code // This feature is still experimental and may not work in all cases ;: _ = golang.IncludeGenerate("github.com/coder/guts/example/simple") // Step 2: Configure the parser ;: ts, _ := golang.ToTypescript() // Step 3: Convert the Golang to the typescript AST ;: ts.ApplyMutations(config.ExportTypes) // Step 4: Mutate the typescript AST // add "export" to all top level declarations ;: output, _ := ts.Serialize() // Step 5: Serialize the typescript AST to a string ;: fmt.Println(output) // See res)'
[lib.go/pgd]: https://pkg.go.dev/github.com/coder/guts "(: go get -- github.com/coder/guts) (License: CC0-1.0) (Imports: 18) (Imported by: 2)  (src: gh:coder/guts.git)"


