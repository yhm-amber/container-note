[site/io]: https://osquery.io/ "Performant endpoint visibility // 高效终端可见性 /// Query your devices like a database // 像查询数据库一样查询你的设备 /// Osquery uses basic SQL commands to leverage a relational data-model to describe a device. // Osquery 使用基本的 SQL 命令来利用关系数据模型来描述设备。 /// Security // 安全 /// (: :osquery> SELECT name, path, pid FROM processes WHERE on_disk = 0 #> name = Drop_Agent #> path = /Users/jim/bin/dropage #> pid = 561) /// Processes running without a binary on disk // 没有在磁盘上运行二进制文件的进程 /// Frequently, attackers will leave a malicious process running but delete the original binary on disk. This query returns any process whose original binary has been deleted, which could be an indicator of a suspicious process. // 通常，攻击者会保留恶意进程运行，但删除磁盘上的原始二进制文件。此查询返回任何原始二进制文件已被删除的进程，这可能是一个可疑进程的迹象。 /// Compliance // 合规 /// (: :osquery> SELECT * FROM mounts m, disk_encryption d WHERE m.device_alias = d.name AND m.path = '/' AND d.encrypted = 0 #> device = /dev/disk1 #> ...) /// Primary disks that are unencrypted // 未加密的主磁盘 /// Disk encryption is an organizational policy for many companies, this query returns hosts whose primary disk is currently unencrypted. // 磁盘加密是许多公司的组织政策，此查询返回当前未加密主磁盘的主机。 /// DevOps /// (: :osquery> SELECT * FROM lastWHERE username = 'root' AND time > ((SELECT unix_time FROM time) - 3600) #> ...) /// Servers with root login in last hour // 服务器上最近一小时有 root 登录 /// Whether auditing or investigating, having access to historical user session data allows us to see where specific logins have occurred within your infrastructure. // 无论是审计还是调查，访问历史用户会话数据都能让我们看到基础设施中具体登录的地点。 /// Three things you should know about osquery // 关于 osquery，你应该知道的三件事 /// - It's fast and tested // 它快速且经过考验 ///: Our build infrastructure ensures that newly introduced code is benchmarked and tested. We perform continuous testing for memory leaks, thread safety, and binary reproducibility on all supported platforms. // 我们的构建基础设施确保新引入的代码经过基准测试和测试。我们在所有支持的平台上持续测试内存泄漏、线程安全和二进制重复性。 /// - It runs everywhere // 它可在任何地方运行 ///: Windows, macOS, CentOS, and almost every Linux OS released since 2011 are supported with no dependencies. osquery powers some of the most demanding companies, including Facebook. // Windows、macOS、CentOS 以及自 2011 年以来发布的几乎所有 Linux 作系统都支持，且没有依赖。osQuery 为一些要求极高的公司提供动力，包括 Facebook。 /// - It's open source // 它开源 ///: Osquery is released under the Apache License. Ever since we open-sourced it in 2014, organizations and individuals have contributed an ever-growing list of impressive features, useful tools, and helpful documentation. // Osquery 采用 Apache 许可证发布。自 2014 年我们将它开源以来，组织和个人贡献了不断增长的令人印象深刻的功能、实用工具和有用的文档。"
[docs/rtd]: https://osquery.readthedocs.io/ "osquery is an operating system instrumentation framework for Windows, OS X (macOS), and Linux. The tools make low-level operating system analytics and monitoring both performant and intuitive. // osquery 是一个适用于 Windows、OS X (macOS) 和 Linux 的操作系统检测框架。该工具能够高效且直观地进行底层操作系统分析和监控。 /// osquery exposes an operating system as a high-performance relational database. This allows you to write SQL queries to explore operating system data. With osquery, SQL tables represent abstract concepts such as running processes, loaded kernel modules, open network connections, browser plugins, hardware events or file hashes. // osquery 将操作系统暴露为一个高性能的关系数据库。这使得您可以编写 SQL 查询来探索操作系统数据。借助 osquery，SQL 表可以表示抽象概念，例如正在运行的进程、已加载的内核模块、打开的网络连接、浏览器插件、硬件事件或文件哈希值。 /// High Level Features // 高级功能 /// The high-performance and low-footprint distributed host monitoring daemon, osqueryd, allows you to schedule queries to be executed across your entire infrastructure. The daemon takes care of aggregating the query results over time and generates logs which indicate state changes in your infrastructure. You can use this to maintain insight into the security, performance, configuration, and state of your entire infrastructure. osqueryd's logging can integrate into your internal log aggregation pipeline, regardless of your technology stack, via a robust plugin architecture. // 高性能、低资源占用的分布式主机监控守护进程 osqueryd 允许您调度查询在整个基础架构中执行。该守护进程负责聚合一段时间内的查询结果，并生成日志，以指示基础架构的状态变化。您可以利用此功能深入了解整个基础架构的安全性、性能、配置和状态。无论您的技术栈如何， osqueryd 的日志记录功能都可以通过强大的插件架构集成到您的内部日志聚合管道中。 /// The interactive query console, osqueryi, gives you a SQL interface to try out new queries and explore your operating system. With the power of a complete SQL language and dozens of useful tables built-in, osqueryi is an invaluable tool when performing incident response, diagnosing a systems operations problem, troubleshooting a performance issue, etc. // 交互式查询控制台 osqueryi 提供了一个 SQL 界面，方便您尝试新的查询并探索操作系统。凭借完整的 SQL 语言功能和内置的数十个实用表， osqueryi 在执行事件响应、诊断系统运行问题、排查性能问题等方面都是不可或缺的工具。 /// osquery is cross-platform. Even though osquery takes advantage of very low-level operating system APIs, you can build and use osquery on Windows, macOS, Ubuntu, CentOS and other popular enterprise Linux distributions. This has the distinct advantage of allowing you to be able to use one platform for monitoring complex operating system state across your entire infrastructure. Monitor your corporate Windows or macOS clients the same way you monitor your production Linux servers. // osquery 是跨平台的。尽管 osquery 利用了非常底层的操作系统 API，但您仍然可以在 Windows、macOS、Ubuntu、CentOS 和其他流行的企业级 Linux 发行版上构建和使用 osquery。这带来的显著优势在于，您可以使用一个平台来监控整个基础架构中复杂的操作系统状态。您可以像监控生产 Linux 服务器一样监控企业 Windows 或 macOS 客户端。 /// To make deploying osquery in your infrastructure as easy as possible, osquery comes with native packages for all supported operating systems. There is extensive tooling and documentation around creating packages so packaging and deploying your custom osquery tools can be just as easy too. // 为了尽可能简化 osquery 在您的基础架构中的部署，osquery 为所有受支持的操作系统提供了原生软件包。此外，我们还提供了丰富的工具和文档，方便您创建软件包，因此打包和部署自定义的 osquery 工具也同样简单。 /// To assist with the rollout process, the osquery user guide has detailed documentation on internal deployment. osquery was built so that every environment-specific aspect of the toolchain can be hot-swapped at runtime with custom plugins. Use these interfaces to deeply integrate osquery into your infrastructure, if none of the several existing plugins suit your needs. // 为了帮助您顺利完成部署，osquery 用户指南提供了关于内部部署的详细文档。osquery 的设计理念是，工具链中每个特定于环境的组件都可以在运行时通过自定义插件进行热替换。如果现有的插件都无法满足您的需求，您可以使用这些接口将 osquery 深度集成到您的基础架构中。 /// Additionally, osquery's codebase is made up of high-performance, modular components with clearly documented public APIs. These components can be easily strung together to create new, interesting applications and tools. Language bindings exist for many languages using a Thrift interface, so you can continue using comfortable and familiar technologies. // 此外，osquery 的代码库由高性能、模块化的组件构成，并配有清晰的公共 API 文档。这些组件可以轻松组合，创建新颖有趣的应用程序和工具。它还支持多种语言的 Thrift 接口绑定，因此您可以继续使用熟悉且便捷的技术。"
[schema/.site]: https://osquery.io/schema "Mapping OS Query API as Schema (like tables in DB)"
[core.src/gh]: https://github.com/osquery/osquery.git "(Apache-2.0 OR GPL-2.0-only) (Languages: C++ 67.8%, C 22.5%, CMake 5.6%, Objective-C++ 1.7%, Python 1.7%, PowerShell 0.4%, Other 0.3%) SQL powered operating system instrumentation, monitoring, and analytics. // 基于 SQL 的操作系统检测、监控和分析。 /// osquery is a SQL powered operating system instrumentation, monitoring, and analytics framework. // osquery 是一个基于 SQL 的操作系统检测、监控和分析框架。 /// Available for Linux, macOS, and Windows. // 适用于 Linux、macOS 和 Windows 系统。 /// osquery exposes an operating system as a high-performance relational database. This allows you to write SQL-based queries to explore operating system data. With osquery, SQL tables represent abstract concepts such as running processes, loaded kernel modules, open network connections, browser plugins, hardware events or file hashes. // osquery 将操作系统暴露为一个高性能的关系数据库。这使得您可以编写基于 SQL 的查询来探索操作系统数据。借助 osquery，SQL 表可以表示抽象概念，例如正在运行的进程、已加载的内核模块、打开的网络连接、浏览器插件、硬件事件或文件哈希值。 /// SQL tables are implemented via a simple plugin and extensions API. A variety of tables already exist and more are being written: web: osquery.io/schema. To best understand the expressiveness that is afforded to you by osquery, consider the following SQL queries: // SQL 表是通过一个简单的插件和扩展 API 实现的。目前已有多种表型，并且还在不断开发更多表型： web: osquery.io/schema 。为了更好地理解 osquery 的强大功能，请参考以下 SQL 查询： /// (: SELECT * FROM users # List the users) (: SELECT * FROM processes WHERE on_disk = 0 # Check the processes that have a deleted executable) (: SELECT DISTINCT processes.name, listening_ports.port, processes.pid FROM listening_ports JOIN processes USING (pid) WHERE listening_ports.address = '0.0.0.0' # Get the process name, port, and PID, for processes listening on all interfaces // 获取监听所有接口的进程的名称、端口和进程 ID)"
[sdk-py.src/gh]: https://github.com/osquery/osquery-python.git "(BSD) (Languages: Python 94.6%, Thrift 5.4%) Python bindings for osquery's Thrift API // osquery Thrift API 的 Python 绑定 /// In osquery, SQL tables, configuration retrieval, log handling, etc are implemented via a simple, robust plugin and extensions API. This project contains the official Python bindings for creating osquery extensions in Python. Consider the following example: // 在 osquery 中，SQL 表、配置检索、日志处理等功能均通过一个简单而强大的插件和扩展 API 实现。本项目包含用于在 Python 中创建 osquery 扩展的官方 Python 绑定。请参考以下示例： /// (: #: define a class under `@osquery.register_plugin` and call `osquery.start_extension` in main.) /// Extensions are the core way that you can extend and customize osquery. At Facebook, we use extensions extensively to implement many plugins that take advantage of internal APIs and tools. // 扩展程序是扩展和自定义 osquery 的核心方式。在 Facebook，我们广泛使用扩展程序来实现许多利用内部 API 和工具的插件。 /// The same Thrift bindings can be used to create a Python client for the osqueryd or osqueryi's extension socket. There are helper classes provided that spawn an ephemeral osquery process for consecutive or long running client instances. // 可以使用相同的 Thrift 绑定为 osqueryd 或 osqueryi 的扩展套接字创建 Python 客户端。此外，还提供了辅助类，用于为连续或长时间运行的客户端实例生成临时的 osquery 进程。 /// (: instance = osquery.SpawnInstance() # Spawn an osquery process using an ephemeral extension socket. ;: instance.open() # This may raise an exception ;: instance.client.query('select timestamp from time') # Issues queries and call osquery Thrift APIs.) (: instance = osquery.ExtensionClient('/home/you/.osquery/osqueryd.sock') # Connect to an existing socket // 连接到现有套接字 ;: instance.open() # This may raise an exception ;: client = instance.extension_client() # Make client for issue queries and call osquery Thrift APIs. ;: client.query('select timestamp from time') # query time.)"
[sdk-py.pip/pypi]: https://pypi.org/project/osquery/ "(: pip install -- osquery) (License: BSD License (BSD)) Osquery Python API (src: gh:osquery/osquery-python.git)"
[sdk-go.src/gh]: https://github.com/osquery/osquery-go.git "(MIT) (Languages: Go 96.3%, Thrift 2.6%, Makefile 1.1%) Go bindings for osquery // osquery 的 Go 绑定 /// In osquery, SQL tables, configuration retrieval, log handling, etc. are implemented via a robust plugin and extensions API. This project contains Go bindings for creating osquery extensions in Go. To create an extension, you must create an executable binary which instantiates an ExtensionManagerServer and registers the plugins that you would like to be added to osquery. You can then have osquery load the extension in your desired context (ie: in a long running instance of osqueryd or during an interactive query session with osqueryi). For more information about how this process works at a lower level, see the osquery wiki. // 在 osquery 中，SQL 表、配置检索、日志处理等功能均通过强大的插件和扩展 API 实现。本项目包含用于在 Go 中创建 osquery 扩展的 Go 绑定。要创建扩展，您必须创建一个可执行二进制文件，该文件会实例化一个 ExtensionManagerServer 并注册您希望添加到 osquery 的插件。然后，您可以让 osquery 在所需的上下文中加载该扩展（例如：在长时间运行的 osqueryd 实例中，或在与 osqueryi 的交互式查询会话期间）。有关此过程底层工作原理的更多信息，请参阅 osquery wiki 。"
[sdk-go.go/pgd]: https://pkg.go.dev/github.com/osquery/osquery-go "(: go get -- github.com/osquery/osquery-go) (License: MIT) (Imports: 9) (Imported by: 49)  (src: gh:osquery/osquery-go.git)"

