[src/gh]: https://github.com/Ferki-git-creator/jsmn_zig.git "(MIT) (Languages: Zig 100.0%) Realization jsmn on a pure Zig // åœ¨çº¯ Zig ä¸Šå®ç° jsmn /// ğŸš€ jsmn_zig - JSON Tokenizer for Zig // ğŸš€ jsmn_zig - Zig çš„ JSON åˆ†è¯å™¨ /// A lean, mean, JSON-parsing machine that doesn't believe in bloat. // ä¸€å°ç²¾ç®€é«˜æ•ˆçš„ JSON è§£æå™¨ï¼Œå®ƒæ‘’å¼ƒäº†è‡ƒè‚¿çš„è®¾è®¡ã€‚ /// What's This All About? // è¿™åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ /// Ever felt like JSON parsers are over-engineered kitchen sinks that do everything except make coffee? Meet jsmn_zig - a spiritual port of the legendary JSMN to Zig, with some Zig-ish improvements. // ä½ æ˜¯å¦æ›¾è§‰å¾— JSON è§£æå™¨å°±åƒåŠŸèƒ½è¿‡å‰©çš„å¨æˆ¿æ°´æ§½ï¼Œé™¤äº†ç…®å’–å•¡ä»€ä¹ˆéƒ½åšä¸äº†ï¼Ÿæ¥è®¤è¯†ä¸€ä¸‹ jsmn_zig â€”â€”å®ƒæ˜¯ä¼ å¥‡çš„ JSMN çš„ç²¾ç¥ç§»æ¤ç‰ˆï¼Œå¹¶é’ˆå¯¹ Zig è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ã€‚ /// We don't parse JSON into fancy ASTs. We give you tokens. You decide what to do with them. It's like IKEA furniture for JSON - we give you the pieces, you build the masterpiece. // æˆ‘ä»¬ä¸ä¼šå°† JSON è§£ææˆå¤æ‚çš„æŠ½è±¡è¯­æ³•æ ‘ (AST)ã€‚æˆ‘ä»¬åªæä¾›ä»¤ç‰Œ (token)ã€‚æ‚¨å†³å®šå¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚è¿™å°±åƒ JSON ç‰ˆçš„å®œå®¶å®¶å…·â€”â€”æˆ‘ä»¬æä¾›é›¶ä»¶ï¼Œæ‚¨æ¥æ­å»ºæ°ä½œã€‚ /// Features That Don't Waste Your Time // ä¸æµªè´¹æ‚¨æ—¶é—´çš„åŠŸèƒ½ /// - ğŸ¯ Zero-copy tokenization - Because copying data is so 1990s // ğŸ¯ é›¶æ‹·è´æ ‡è®°åŒ– â€”â€”å› ä¸ºå¤åˆ¶æ•°æ®å·²ç»æ˜¯ä¸Šä¸–çºª 90 å¹´ä»£çš„åšæ³•äº† /// - ğŸ“¦ Compact tokens - 32 bits per token (when we can get away with it) // ğŸ“¦ ç´§å‡‘å‹ä»¤ç‰Œ - æ¯ä¸ªä»¤ç‰Œ 32 ä½ï¼ˆåœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹ï¼‰ /// - ğŸŒŠ Streaming support - Parse chunks like a boss // ğŸŒŠ æµåª’ä½“æ”¯æŒ - åƒè€æ¿ä¸€æ ·è§£ææ•°æ®å— /// - ğŸ§  Hybrid memory - Stack for small stuff, heap when you're feeling fancy // ğŸ§  æ··åˆå†…å­˜ - å°æ•°æ®ç”¨æ ˆï¼Œå¤§æ•°æ®ç”¨å †ã€‚ /// - âš¡ SIMD-ready - Because we like going fast // âš¡ æ”¯æŒ SIMD - å› ä¸ºæˆ‘ä»¬å–œæ¬¢å¿«èŠ‚å¥ /// - ğŸ“± Embedded-friendly - Works where other parsers would cry // ğŸ“± åµŒå…¥å¼å‹å¥½ - åœ¨å…¶ä»–è§£æå™¨ä¼šå´©æºƒçš„åœ°æ–¹ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ /// When to Use This (And When Not To) // ä½•æ—¶ä½¿ç”¨ï¼ˆä»¥åŠä½•æ—¶ä¸ä½¿ç”¨ï¼‰ /// âœ… Perfect For: // âœ… éå¸¸é€‚åˆï¼š /// - Embedded systems (where every byte counts) // åµŒå…¥å¼ç³»ç»Ÿï¼ˆæ¯ä¸ªå­—èŠ‚éƒ½è‡³å…³é‡è¦ï¼‰ /// - High-performance parsing (when you need speed) // é«˜æ€§èƒ½è§£æï¼ˆå½“æ‚¨éœ€è¦é€Ÿåº¦æ—¶ï¼‰ /// - Streaming JSON (network, files, carrier pigeons) // æµå¼ JSONï¼ˆç½‘ç»œã€æ–‡ä»¶ã€ä¿¡é¸½ï¼‰ /// - Educational purposes (learn how parsing actually works) // æ•™å­¦ç›®çš„ï¼ˆå­¦ä¹ è§£æçš„å®é™…å·¥ä½œåŸç†ï¼‰ /// âŒ Maybe Not For: // âŒ å¯èƒ½ä¸é€‚åˆï¼š /// - JSON schema validation (we just tokenize, bro) // JSON æ¨¡å¼éªŒè¯ï¼ˆæˆ‘ä»¬åªæ˜¯è¿›è¡Œäº†æ ‡è®°åŒ–ï¼Œå…„å¼Ÿï¼‰ /// - DOM-style manipulation (build your own tree) // DOM å¼æ“ä½œï¼ˆæ„å»ºè‡ªå·±çš„æ ‘ï¼‰ /// - People who want magic (we're wizards, not magicians) // æƒ³è¦é­”æ³•çš„äººï¼ˆæˆ‘ä»¬æ˜¯å·«å¸ˆï¼Œä¸æ˜¯é­”æœ¯å¸ˆï¼‰ /// Performance Notes (The Boring But Important Part) // æ¼”å‡ºè¯´æ˜ï¼ˆæ¯ç‡¥ä½†é‡è¦çš„éƒ¨åˆ†ï¼‰ /// - Compact tokens save ~12 bytes per token vs standard tokens // ç´§å‡‘å‹ä»¤ç‰Œæ¯”æ ‡å‡†ä»¤ç‰Œæ¯ä¸ªèŠ‚çœçº¦ 12 å­—èŠ‚ã€‚ /// - Stack parsing avoids heap allocations for JSON < ~512 tokens // å¯¹äºå°äºçº¦ 512 ä¸ªæ ‡è®°çš„ JSONï¼Œæ ˆè§£æé¿å…äº†å †å†…å­˜åˆ†é…ã€‚ /// - SIMD parsing kicks in automatically on supported architectures // åœ¨æ”¯æŒçš„æ¶æ„ä¸Šï¼ŒSIMD è§£æä¼šè‡ªåŠ¨å¯åŠ¨ã€‚ /// - Zero-copy means we're basically cheating at performance // é›¶æ‹·è´æ„å‘³ç€æˆ‘ä»¬åŸºæœ¬ä¸Šæ˜¯åœ¨æ€§èƒ½ä¸Šä½œå¼Šã€‚"
[lib.zig/zigistry]: https://zigistry.dev/packages/github/Ferki-git-creator/jsmn_zig/ "(: zig fetch --save https://github.com/Ferki-git-creator/jsmn_zig/archive/refs/heads/main.tar.gz)"

