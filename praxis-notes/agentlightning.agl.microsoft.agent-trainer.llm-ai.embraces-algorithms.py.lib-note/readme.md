[src/gh]: https://github.com/microsoft/agent-lightning.git "(MIT) (Languages: Python 82.8%, TypeScript 15.1%, JavaScript 0.9%, CSS 0.8%, Shell 0.4%, HTML 0.0%) The absolute trainer to light up AI agents. // AI ä»£ç†çš„ç»å¯¹è®­ç»ƒå™¨ã€‚ /// Agent Lightningâš¡ /// âš¡ Core Features // âš¡ æ ¸å¿ƒåŠŸèƒ½ /// - Turn your agent into an optimizable beast with ZERO CODE CHANGE (almost)! ğŸ’¤ // å°†æ‚¨çš„æ™ºèƒ½ä½“è½¬åŒ–ä¸ºå¯ä¼˜åŒ–çš„å¼ºå¤§å­˜åœ¨ï¼Œæ— éœ€ï¼ˆå‡ ä¹ï¼‰ä¿®æ”¹ä»»ä½•ä»£ç ï¼ğŸ’¤ /// - Build with ANY agent framework (LangChain, OpenAI Agent SDK, AutoGen, CrewAI, Microsoft Agent Framework...); or even WITHOUT agent framework (Python OpenAI). You name it! ğŸ¤– // ä½¿ç”¨ä»»ä½•æ™ºèƒ½ä½“æ¡†æ¶ï¼ˆLangChainã€OpenAI Agent SDKã€AutoGenã€CrewAIã€Microsoft Agent Framework ç­‰ï¼‰ï¼›ç”šè‡³æ— éœ€æ™ºèƒ½ä½“æ¡†æ¶ï¼ˆPython OpenAIï¼‰ã€‚æ‚¨æƒ³è¦ä»€ä¹ˆï¼ğŸ¤– /// - Selectively optimize one or more agents in a multi-agent system. ğŸ¯ // åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­é€‰æ‹©æ€§åœ°ä¼˜åŒ–ä¸€ä¸ªæˆ–å¤šä¸ªæ™ºèƒ½ä½“ã€‚ğŸ¯ /// - Embraces Algorithms like Reinforcement Learning, Automatic Prompt Optimization, Supervised Fine-tuning and more. ğŸ¤— // é‡‡ç”¨å¼ºåŒ–å­¦ä¹ ã€è‡ªåŠ¨æç¤ºä¼˜åŒ–ã€ç›‘ç£å¾®è°ƒç­‰ç®—æ³•ã€‚ğŸ¤— /// âš¡ Architecture // âš¡ æ¶æ„ /// Agent Lightning keeps the moving parts to a minimum so you can focus on your idea, not the plumbing. Your agent continues to run as usual; you can still use any agent framework you like; you drop in the lightweight agl.emit_xxx() helper, or let the tracer collect every prompt, tool call, and reward. Those events become structured spans that flow into the LightningStore, a central hub that keeps tasks, resources, and traces in sync. // Agent Lightning å°†å¯ç§»åŠ¨éƒ¨ä»¶é™è‡³æœ€ä½ï¼Œè®©ä½ ä¸“æ³¨äºä½ çš„æƒ³æ³•ï¼Œè€Œä¸æ˜¯ç¹ççš„ç»†èŠ‚ã€‚ä½ çš„ä»£ç†ä»ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œï¼›ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ä»»ä½•ä½ å–œæ¬¢çš„ä»£ç†æ¡†æ¶ï¼›ä½ å¯ä»¥æ’å…¥è½»é‡çº§çš„ agl.emit_xxx() è¾…åŠ©å·¥å…·ï¼Œæˆ–è€…è®©è·Ÿè¸ªå™¨æ”¶é›†æ¯ä¸ªæç¤ºã€å·¥å…·è°ƒç”¨å’Œå¥–åŠ±ã€‚è¿™äº›äº‹ä»¶ä¼šå˜æˆç»“æ„åŒ–çš„è·¨åº¦ï¼Œæµå…¥ LightningStoreï¼Œè¿™æ˜¯ä¸€ä¸ªä¸­å¤®æ¢çº½ï¼Œç”¨äºåŒæ­¥ä»»åŠ¡ã€èµ„æºå’Œè·Ÿè¸ªã€‚ /// On the other side of the store sits the algorithm you choose, or write yourself. The algorithm reads spans, learns from them, and posts updated resources such as refined prompt templates or new policy weights. The Trainer ties it all together: it streams datasets to runners, ferries resources between the store and the algorithm, and updates the inference engine when improvements land. You can either stop there, or simply let the same loop keep turning. // åœ¨å•†åº—çš„å¦ä¸€è¾¹ï¼Œåç€ä½ é€‰æ‹©æˆ–è‡ªå·±ç¼–å†™çš„ç®—æ³•ã€‚è¯¥ç®—æ³•è¯»å–æ•°æ®ç‰‡æ®µï¼Œä»ä¸­å­¦ä¹ ï¼Œå¹¶å‘å¸ƒæ›´æ–°çš„èµ„æºï¼Œä¾‹å¦‚ç²¾ç‚¼çš„æç¤ºæ¨¡æ¿æˆ–æ–°çš„ç­–ç•¥æƒé‡ã€‚Trainer å°†æ‰€æœ‰è¿™äº›æ•´åˆèµ·æ¥ï¼šå®ƒå°†æ•°æ®é›†æµå¼ä¼ è¾“åˆ°è¿è¡Œå™¨ï¼Œåœ¨å•†åº—å’Œç®—æ³•ä¹‹é—´ä¼ é€’èµ„æºï¼Œå¹¶åœ¨æ”¹è¿›åˆ°ä½æ—¶æ›´æ–°æ¨ç†å¼•æ“ã€‚ä½ å¯ä»¥é€‰æ‹©åœæ­¢äºæ­¤ï¼Œæˆ–è€…è®©ç›¸åŒçš„å¾ªç¯ç»§ç»­è¿è½¬ã€‚ /// No rewrites, no lock-in, just a clear path from first rollout to steady improvement. // æ— éœ€é‡å†™ï¼Œæ— éœ€é”å®šï¼Œåªéœ€ä»é¦–æ¬¡ä¸Šçº¿åˆ°æŒç»­æ”¹è¿›çš„æ¸…æ™°è·¯å¾„ã€‚ /// âš¡ Responsible AI // âš¡ è´Ÿè´£ä»»çš„ AI /// This project has been evaluated and certified to comply with the Microsoft Responsible AI Standard. The team will continue to monitor and maintain the repository, addressing any severe issues, including potential harms, if they arise. // è¯¥é¡¹ç›®å·²é€šè¿‡è¯„ä¼°å¹¶è·å¾—è®¤è¯ï¼Œç¬¦åˆå¾®è½¯è´Ÿè´£ä»»äººå·¥æ™ºèƒ½æ ‡å‡†ã€‚å›¢é˜Ÿå°†æŒç»­ç›‘æ§å’Œç»´æŠ¤è¯¥å­˜å‚¨åº“ï¼Œè§£å†³ä»»ä½•ä¸¥é‡é—®é¢˜ï¼ŒåŒ…æ‹¬å¯èƒ½å‡ºç°çš„æ½œåœ¨å±å®³ã€‚ /// (@misc{ luo2025agentlightningtrainai, title={Agent Lightning: Train ANY AI Agents with Reinforcement Learning}, author={Xufang Luo and Yuge Zhang and Zhiyuan He and Zilong Wang and Siyun Zhao and Dongsheng Li and Luna K. Qiu and Yuqing Yang}, year={2025}, eprint={2508.03680}, archivePrefix={arXiv}, primaryClass={cs.AI}, url={https://arxiv.org/abs/2508.03680} })"
[lib.pip/pypi]: https://pypi.org/project/agentlightning/ "(: pip install -- agentlightning) (Requires: Python >=3.10) (Provides-Extra: [apo], [mongo], [verl], [weave]) Agent-lightning is the absolute trainer to light up AI agents. // Agent-lightning æ˜¯ç‚¹äº® AI ä»£ç†çš„ç»å¯¹è®­ç»ƒå·¥å…·ã€‚ (src: gh:microsoft/agent-lightning.git)"
[site/ghio]: https://microsoft.github.io/agent-lightning/ "Today, we'll work with an agent whose job is to book a meeting room. It's a common but tricky task with multiple constraints. // ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªä»£ç†ï¼Œå®ƒçš„ä»»åŠ¡æ˜¯é¢„è®¢ä¼šè®®å®¤ã€‚è¿™æ˜¯ä¸€ä¸ªå¸¸è§ä½†æ£˜æ‰‹çš„ä»»åŠ¡ï¼Œæ¶‰åŠå¤šä¸ªçº¦æŸæ¡ä»¶ã€‚ /// Here's how the agent works: // ä»£ç†çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š /// - Input: It receives a task with specific requirements, like \"Find a room for 4 people at 10:00 AM with a whiteboard\". // è¾“å…¥ï¼šå®ƒæ¥æ”¶ä¸€ä¸ªå…·æœ‰ç‰¹å®šè¦æ±‚çš„ä»»åŠ¡ï¼Œä¾‹å¦‚â€œ Find a room for 4 people at 10:00 AM with a whiteboard. â€ /// - Action: The agent uses a Large Language Model (LLM) to understand the request. It can also use tools, which are pre-defined functions it can call, to get more information, such as checking room availability in an external database. // æ“ä½œï¼šè¯¥ä»£ç†ä½¿ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ¥ç†è§£è¯·æ±‚ã€‚å®ƒè¿˜å¯ä»¥ä½¿ç”¨å·¥å…·ï¼Œè¿™äº›æ˜¯å®ƒå¯ä»¥è°ƒç”¨çš„é¢„å®šä¹‰å‡½æ•°ï¼Œä»¥è·å–æ›´å¤šä¿¡æ¯ï¼Œä¾‹å¦‚æ£€æŸ¥å¤–éƒ¨æ•°æ®åº“ä¸­çš„æˆ¿é—´å¯ç”¨æ€§ã€‚ /// - Output: Its final decision is the ID of the best room it found, like \"A103\". // è¾“å‡ºï¼šå®ƒçš„æœ€ç»ˆå†³ç­–æ˜¯å®ƒæ‰¾åˆ°çš„æœ€ä½³æˆ¿é—´çš„ IDï¼Œä¾‹å¦‚â€œ A103 â€ã€‚ /// - Reward: After the agent makes its choice, a separate \"grader\" function scores its performance on a scale of 0 to 1. This score is called its reward. A perfect choice gets a 1.0, while a wrong one gets a 0.0. // å¥–åŠ±ï¼šåœ¨ä»£ç†åšå‡ºé€‰æ‹©åï¼Œä¸€ä¸ªç‹¬ç«‹çš„â€œè¯„åˆ†å™¨â€å‡½æ•°æ ¹æ® 0 åˆ° 1 çš„è¯„åˆ†æ ‡å‡†å¯¹å…¶è¡¨ç°è¿›è¡Œè¯„åˆ†ã€‚è¿™ä¸ªåˆ†æ•°è¢«ç§°ä¸ºå®ƒçš„å¥–åŠ±ã€‚ä¸€ä¸ªå®Œç¾çš„é€‰æ‹©ä¼šå¾—åˆ° 1.0ï¼Œè€Œä¸€ä¸ªé”™è¯¯çš„é€‰æ‹©ä¼šå¾—åˆ° 0.0ã€‚"
[paper/arxiv]: https://arxiv.org/abs/2508.03680 "(License: arXiv.org perpetual non-exclusive license) [Submitted on 5 Aug 2025] { Artificial Intelligence (cs.AI); Machine Learning (cs.LG) } (doi: 10.48550/arXiv.2508.03680) Agent Lightning: Train ANY AI Agents with Reinforcement Learning // Agent Lightningï¼šä½¿ç”¨å¼ºåŒ–å­¦ä¹ è®­ç»ƒä»»ä½• AI ä»£ç† /// We present Agent Lightning, a flexible and extensible framework that enables Reinforcement Learning (RL)-based training of Large Language Models (LLMs) for any AI agent. Unlike existing methods that tightly couple RL training with agent or rely on sequence concatenation with masking, Agent Lightning achieves complete decoupling between agent execution and training, allowing seamless integration with existing agents developed via diverse ways (e.g., using frameworks like LangChain, OpenAI Agents SDK, AutoGen, and building from scratch) with almost ZERO code modifications. By formulating agent execution as Markov decision process, we define an unified data interface and propose a hierarchical RL algorithm, LightningRL, which contains a credit assignment module, allowing us to decompose trajectories generated by ANY agents into training transition. This enables RL to handle complex interaction logic, such as multi-agent scenarios and dynamic workflows. For the system design, we introduce a Training-Agent Disaggregation architecture, and brings agent observability frameworks into agent runtime, providing a standardized agent finetuning interface. Experiments across text-to-SQL, retrieval-augmented generation, and math tool-use tasks demonstrate stable, continuous improvements, showcasing the framework's potential for real-world agent training and deployment. // æˆ‘ä»¬ä»‹ç»äº† Agent Lightningï¼Œè¿™æ˜¯ä¸€ä¸ªçµæ´»ä¸”å¯æ‰©å±•çš„æ¡†æ¶ï¼Œèƒ½å¤ŸåŸºäºå¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰å¯¹å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰è¿›è¡Œè®­ç»ƒï¼Œä»¥ç”¨äºä»»ä½• AI ä»£ç†ã€‚ä¸ç°æœ‰æ–¹æ³•ç´§å¯†è€¦åˆ RL è®­ç»ƒä¸ä»£ç†æˆ–ä¾èµ–åºåˆ—è¿æ¥ä¸æ©ç ä¸åŒï¼ŒAgent Lightning åœ¨ä»£ç†æ‰§è¡Œå’Œè®­ç»ƒä¹‹é—´å®ç°äº†å®Œå…¨è§£è€¦ï¼Œå…è®¸ä¸é€šè¿‡ä¸åŒæ–¹å¼ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ LangChainã€OpenAI Agents SDKã€AutoGen ç­‰æ¡†æ¶æˆ–ä»å¤´æ„å»ºï¼‰å¼€å‘çš„ç°æœ‰ä»£ç†æ— ç¼é›†æˆï¼Œå‡ ä¹æ— éœ€ä»£ç ä¿®æ”¹ã€‚é€šè¿‡å°†ä»£ç†æ‰§è¡Œè¡¨è¿°ä¸ºé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®æ¥å£ï¼Œå¹¶æå‡ºäº†ä¸€ç§åˆ†å±‚ RL ç®—æ³•ï¼ŒLightningRLï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªä¿¡ç”¨åˆ†é…æ¨¡å—ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå°†ä»»ä½•ä»£ç†ç”Ÿæˆçš„è½¨è¿¹åˆ†è§£ä¸ºè®­ç»ƒè½¬æ¢ã€‚è¿™ä½¿ RL èƒ½å¤Ÿå¤„ç†å¤æ‚çš„äº¤äº’é€»è¾‘ï¼Œä¾‹å¦‚å¤šä»£ç†åœºæ™¯å’ŒåŠ¨æ€å·¥ä½œæµã€‚åœ¨ç³»ç»Ÿè®¾è®¡æ–¹é¢ï¼Œæˆ‘ä»¬å¼•å…¥äº† Training-Agent è§£è€¦æ¶æ„ï¼Œå¹¶å°†ä»£ç†å¯è§‚å¯Ÿæ€§æ¡†æ¶å¼•å…¥ä»£ç†è¿è¡Œæ—¶ï¼Œæä¾›äº†ä¸€ä¸ªæ ‡å‡†åŒ–çš„ä»£ç†å¾®è°ƒæ¥å£ã€‚ è·¨æ–‡æœ¬åˆ° SQLã€æ£€ç´¢å¢å¼ºç”Ÿæˆå’Œæ•°å­¦å·¥å…·ä½¿ç”¨ä»»åŠ¡çš„å®éªŒå±•ç¤ºäº†ç¨³å®šã€æŒç»­çš„æ€§èƒ½æå‡ï¼Œè¯æ˜äº†è¯¥æ¡†æ¶åœ¨ç°å®ä¸–ç•Œæ™ºèƒ½ä½“è®­ç»ƒå’Œéƒ¨ç½²ä¸­çš„æ½œåŠ›ã€‚"

