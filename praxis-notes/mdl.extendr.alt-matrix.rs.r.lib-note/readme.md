[src/gh]: https://github.com/extendr/mdl.git "(MIT) (Languages: R 69.6%, Rust 27.8%, Just 1.5%, Other 1.1%) An opinionated and performant reimagining of model matrices using rust // 使用 Rust 对模型矩阵进行主观且高效的重新构想 /// mdl implements an opinionated and performant reimagining of model matrices. The package supplies one function, mdl::mtrx() (read: “model matrix”), that takes in a formula and data frame and outputs a numeric matrix. Compared to its base R friend model.matrix(), it’s really fast. // mdl 实现了对模型矩阵的一种有见地的、高性能的重新构想。该软件包提供了一个函数， mdl::mtrx() （读作：“模型矩阵”），它接受一个公式和数据框，并输出一个数值矩阵。与它的基础 R 朋友 model.matrix() 相比，它的速度真的很快。 /// This package is highly experimental. Interpret results with caution! // 这个软件包是高度实验性的。谨慎解释结果！ /// The output of mdl::mtrx() looks a lot like that from model.matrix() // mdl::mtrx() 的输出看起来和 model.matrix() 的非常相似 /// Compared to model.matrix(), mdl::mtrx() is sort of a glorified as.matrix() data frame method. More specifically: // 与 model.matrix() 相比， mdl::mtrx() 可以算是一种升级版的 as.matrix() 数据帧方法。更具体地说： /// - Does not accept formulae with inlined functions (like - or *). // 不接受包含内联函数的公式（例如 - 或 * ）。 /// - Never drops rows (and thus doesn’t accept an na.action). // 永远不会丢弃行（因此不接受 na.action ）。 /// - Assumes that factors levels are encoded as they’re intended (i.e. drop.unused.levels and xlev are not accepted). // 假设因素级别是按预期编码的（即不接受 drop.unused.levels 和 xlev ）。 /// It’s quite a bit faster for smaller data sets // 对于较小的数据集，它的速度要快得多 /// The factor of speedup isn’t so drastic for larger datasets and datasets with more factors, but it is still quite substantial // 加速因素的提升对于较大的数据集和具有更多因素的数据集来说并不那么剧烈，但它仍然相当显著"
[site/extendr.rs]: https://extendr.rs/mdl/ "When the following are true, mtrx() returns a matrix that matches that returned by model.matrix() : // 当满足以下条件时， mtrx() 返回的矩阵将与 model.matrix() 返回的矩阵相匹配： /// - There are no non-default factor contrasts. // 没有非默认的因子对比。 /// - Every column is one of a numeric, integer, character, or factor. // 每一列都是数值型、整数型、字符型或因子型之一。 /// - The na.action option is 'na.pass'. // na.action 选项是 'na.pass' 。 /// In that case, in code where model.matrix() results in slowdowns, one can write: // 在这种情况下，在 model.matrix() 导致减速的代码中，可以编写： /// (: if (mdl::mtrx_compatible(data)) { res <- formula |> mdl::mtrx(data) } else { res <- formula |> stats::model.matrix(data) })"
