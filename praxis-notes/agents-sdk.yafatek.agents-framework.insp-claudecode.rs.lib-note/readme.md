[src/gh]: https://github.com/yafatek/rust-deep-agents-sdk.git '(Apache-2.0, MIT) (Languages: Rust 99.4%, Shell 0.6%) High-performance Rust framework for composing reusable "deep" AI agents with custom tools, sub-agents, and prompts. This repository contains the SDK workspace, AWS integration helpers, documentation, and deployment scaffolding. Inspired by Claude Code // è¿™æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ Rust æ¡†æ¶ï¼Œç”¨äºæ„å»ºå¯é‡ç”¨çš„â€œæ·±åº¦â€AI æ™ºèƒ½ä½“ï¼Œå¹¶æ”¯æŒè‡ªå®šä¹‰å·¥å…·ã€å­æ™ºèƒ½ä½“å’Œæç¤ºã€‚æ­¤ä»“åº“åŒ…å« SDK å·¥ä½œåŒºã€AWS é›†æˆåŠ©æ‰‹ã€æ–‡æ¡£å’Œéƒ¨ç½²è„šæ‰‹æ¶ã€‚çµæ„Ÿæ¥æºäº Claude Codeã€‚ /// Core Features // æ ¸å¿ƒåŠŸèƒ½ /// - ğŸ¤– Agent Builder API // ğŸ¤– æ™ºèƒ½ä½“æ„å»ºå™¨ API ///: The ConfigurableAgentBuilder provides a fluent interface for constructing agents // ConfigurableAgentBuilder æä¾›äº†ä¸€ä¸ªæµç•…çš„æ¥å£æ¥æ„å»ºæ™ºèƒ½ä½“ ///; (: use agents_sdk::{ConfigurableAgentBuilder, GeminiConfig, GeminiChatModel} ;: use std::sync::Arc ;: let config = GeminiConfig::new(api_key, "gemini-2.0-flash-exp")? ;: let model = Arc::new(GeminiChatModel::new(config)?) ;: let agent = ConfigurableAgentBuilder::new("You are a helpful assistant").with_model(model).build()? ;: // well ... `api_url` seems cannot setting? ...) /// - ğŸ› ï¸ Tool System // ğŸ› ï¸ å·¥å…·ç³»ç»Ÿ ///: Define tools using the #[tool] macro: // ä½¿ç”¨ #[tool] å®å®šä¹‰å·¥å…· ///; (: use agents_macros::tool ;: #[tool("Multiplies two numbers")] fn multiply_two(a: f64, b: f64) -> f64 { a * b } ;: let agent = ConfigurableAgentBuilder::new("...").with_model(model).with_tools(vec![MultiplyTwoTool::as_tool()]).build()? ;: // You can bypass the `vec![]` if just one tool.) /// - ğŸ’¾ State Persistence // ğŸ’¾ çŠ¶æ€æŒä¹…æ€§ ///: Choose from multiple persistence backends: // å¯é€‰æ‹©å¤šç§æŒä¹…åŒ–åç«¯ï¼š ///; (: use agents_sdk::{InMemoryCheckpointer,RedisCheckpointer} ;: let checkpointer = Arc::new(InMemoryCheckpointer::new()) // In-memory - for development ;: let checkpointer = Arc::new(RedisCheckpointer::new("redis://127.0.0.1:6379").await?) // Redis - for production ;: let agent = `...`.with_model(model).with_checkpointer(checkpointer).build()? ;: let thread_id = "user-123" ;: agent.save_state(&thread_id).await? ;: agent.load_state(&thread_id).await? ;: // redis protocol looks support ...) /// - ğŸ“Š Token Tracking & Cost Monitoring // ğŸ“Š Token è¿½è¸ªä¸æˆæœ¬ç›‘æ§ ///: Monitor LLM usage and costs with built-in token tracking: // åˆ©ç”¨å†…ç½®çš„ Token è·Ÿè¸ªåŠŸèƒ½ç›‘æ§ LLM çš„ä½¿ç”¨æƒ…å†µå’Œæˆæœ¬ï¼š ///; (: let agent = `...`.with_model(model).with_token_tracking(true).build()? // Enable token tracking with default settings ;: use agents_sdk::{TokenTrackingConfig,TokenCosts} ;: let token_config = TokenTrackingConfig { enabled: true, emit_events: true, log_usage: true, custom_costs: Some(TokenCosts::gemini_flash()) } ;: let agent = `...`.with_model(model).with_token_tracking_config(token_config).build()? ;: // Features: // ç‰¹å¾ï¼š /// - Real-time token usage tracking // å®æ—¶ Token ä½¿ç”¨æƒ…å†µè·Ÿè¸ª /// - Cost estimation with predefined pricing models // ä½¿ç”¨é¢„å®šä¹‰å®šä»·æ¨¡å‹è¿›è¡Œæˆæœ¬ä¼°ç®— /// - Performance metrics (duration, throughput) // æ€§èƒ½æŒ‡æ ‡ï¼ˆæŒç»­æ—¶é—´ã€ååé‡ï¼‰ /// - Event broadcasting integration // äº‹ä»¶å¹¿æ’­é›†æˆ /// - Flexible configuration options // çµæ´»çš„é…ç½®é€‰é¡¹) /// - ğŸ”’ Human-in-the-Loop (HITL) // ğŸ”’ äººæœºäº¤äº’ï¼ˆHITLï¼‰ ///: Require human approval for critical operations: // å…³é”®æ“ä½œéœ€è¦äººå·¥æ‰¹å‡†ï¼š ///; (: use agents_sdk::{ConfigurableAgentBuilder,HitlPolicy} ;: use std::collections::HashMap ;: let mut policies = HashMap::new() ;: policies.insert("delete_file".to_string(), HitlPolicy { allow_auto: false, note: Some("File deletion requires security review".to_string()) }) ;: let agent = ConfigurableAgentBuilder::new("You are a helpful assistant").with_model(model).with_tool_interrupts(policies).with_checkpointer(checkpointer) /* Required for HITL */ .build()? ;: /* Handle interrupts */ match agent.handle_message("Delete the old_data.txt file", state).await { Ok(response) => { if let Some(text) = response.content.as_text() { if text.contains("paused") || text.contains("approval") /* HITL was triggered! */ { if let Some(interrupt) = agent.current_interrupt().await? { println!("Tool: {}", interrupt.tool_name) ;: println!("Args: {}", interrupt.tool_args) ;: } } } }, Err(e) => println!("Error: {}", e) } /* Resume with approval */ agent.resume_with_approval(HitlAction::Accept).await? ;: ...) /// - ğŸ“¡ Event System // ğŸ“¡ äº‹ä»¶ç³»ç»Ÿ ///: Real-time progress tracking and multi-channel notifications: // å®æ—¶è¿›åº¦è·Ÿè¸ªå’Œå¤šæ¸ é“é€šçŸ¥ï¼š ///; (: use agents_sdk::{ConfigurableAgentBuilder,EventBroadcaster} ;: use agents_core::events::AgentEvent ;: use async_trait::async_trait ;: struct ConsoleLogger ;: #[async_trait] impl EventBroadcaster for ConsoleLogger { fn id(&self) -> &str { "console" }  async fn broadcast(&self, event: &AgentEvent) -> anyhow::Result<()> { match event { AgentEvent::AgentStarted(e) => println!("ğŸš€ Agent started: {}", e.agent_name), AgentEvent::ToolStarted(e) => println!("ğŸ”§ Tool started: {}", e.tool_name), AgentEvent::ToolCompleted(e) => println!("âœ… Tool completed: {}", e.tool_name), AgentEvent::TokenUsage(e) => println!("ğŸ“Š Token usage: ${:.4}", e.usage.estimated_cost) _ => {} } Ok(()) } }  let agent = ConfigurableAgentBuilder::new("You are a helpful assistant").with_model(model).with_event_broadcaster(Arc::new(ConsoleLogger)).build()? ;: ...) /// - ğŸ” Security & PII Protection // ğŸ” å®‰å…¨ä¸ä¸ªäººèº«ä»½ä¿¡æ¯ä¿æŠ¤ ///: Built-in security features prevent PII leakage: // å†…ç½®å®‰å…¨åŠŸèƒ½å¯é˜²æ­¢ä¸ªäººèº«ä»½ä¿¡æ¯æ³„éœ²ï¼š ///; (: /* PII sanitization is enabled by default */ /* Disable only if you need raw data and have other security measures */ let agent = `...`.with_model(model).with_pii_sanitization(false) /* Not recommended for production */ .build()? ;: // By default: Events automatically have: // - Message previews truncated to 100 characters // - Sensitive fields (passwords, tokens, etc.) redacted // - PII patterns (emails, phones, credit cards) removed) /// Advanced Features // é«˜çº§åŠŸèƒ½ /// - Sub-Agents // å­æ™ºèƒ½ä½“ ///: Delegate tasks to specialized sub-agents: // å°†ä»»åŠ¡å§”æ´¾ç»™ä¸“é—¨çš„å­æ™ºèƒ½ä½“ï¼š ///; (: use agents_sdk::{ConfigurableAgentBuilder,SubAgentConfig} ;: let subagent = SubAgentConfig { name: "data-processor".to_string(), description: "Processes complex data with custom logic".to_string(), instructions: "You are a data processing specialist.".to_string(), tools: vec![/* specialized tools */] } ;: let agent = ConfigurableAgentBuilder::new("You are a helpful assistant").with_model(model).with_subagent(subagent).with_auto_general_purpose(true) /* Enable automatic delegation */ .build()? ;: ...) /// - Built-in Tools // å†…ç½®å·¥å…· ///: The SDK includes useful built-in tools: // è¯¥ SDK åŒ…å«ä¸€äº›å®ç”¨çš„å†…ç½®å·¥å…·ï¼š ///; (: let agent = ConfigurableAgentBuilder::new("You are a helpful assistant").with_model(model).with_builtin_tools(vec!["write_todos".to_string(), "ls".to_string(), "read_file".to_string(), "write_file".to_string()]).build()? ;: ...) /// - Prompt Caching // æç¤ºè¯ç¼“å­˜ ///: Optimize performance with prompt caching: // åˆ©ç”¨å³æ—¶ç¼“å­˜ä¼˜åŒ–æ€§èƒ½ï¼š ///; (: let agent = `...`.with_model(model).with_prompt_caching(true).build()? ;: ...)'
[lib.cargo/crates]: https://crates.io/crates/agents-sdk "(: cargo add -- agents-sdk) (MIT OR Apache-2.0) (53 SLoC) (31.2 KiB) High-performance Rust SDK for composing reusable AI agents with custom tools, sub-agents, and prompts // é«˜æ€§èƒ½ Rust SDKï¼Œç”¨äºæ„å»ºå…·æœ‰è‡ªå®šä¹‰å·¥å…·ã€å­æ™ºèƒ½ä½“å’Œæç¤ºçš„å¯é‡ç”¨ AI æ™ºèƒ½ä½“ /// Rust Deep Agents SDK /// A high-performance Rust framework for building AI agents with custom tools, sub-agents, and persistent state management. Built for production use with enterprise-grade features like token tracking, cost monitoring, and human-in-the-loop workflows. // ä¸€ä¸ªé«˜æ€§èƒ½çš„ Rust æ¡†æ¶ï¼Œç”¨äºæ„å»ºå…·æœ‰è‡ªå®šä¹‰å·¥å…·ã€å­æ™ºèƒ½ä½“å’ŒæŒä¹…çŠ¶æ€ç®¡ç†çš„ AI æ™ºèƒ½ä½“ã€‚ä¸“ä¸ºç”Ÿäº§ç¯å¢ƒè€Œè®¾è®¡ï¼Œå…·å¤‡ä¼ä¸šçº§åŠŸèƒ½ï¼Œä¾‹å¦‚ä»¤ç‰Œè·Ÿè¸ªã€æˆæœ¬ç›‘æ§å’Œäººæœºåä½œå·¥ä½œæµç¨‹ã€‚ (src: gh:yafatek/rust-deep-agents-sdk.git)"
[site/ghio]: https://yafatek.github.io/rust-deep-agents-sdk/ "ğŸ¦€ Rust Deep Agents SDK /// Production-ready agentic AI framework for Rust // é€‚ç”¨äº Rust çš„ç”Ÿäº§å°±ç»ªå‹æ™ºèƒ½ä½“ AI æ¡†æ¶ /// - ğŸ“¦ agents-sdk (. web: ./agents_sdk/) ///: Unified SDK - Start here! All-in-one package with feature flags for easy integration. // ç»Ÿä¸€ SDK - ä»è¿™é‡Œå¼€å§‹ï¼åŒ…å«åŠŸèƒ½æ ‡å¿—çš„ä¸€ä½“åŒ–è½¯ä»¶åŒ…ï¼Œæ–¹ä¾¿é›†æˆã€‚ /// - agents-macros (. web: ./agents_macros/) ///: Procedural macros for tool creation (#[tool] attribute) // ç”¨äºå·¥å…·åˆ›å»ºçš„è¿‡ç¨‹å®ï¼ˆ#[tool] å±æ€§ï¼‰ /// - agents-core (. web: ./agents_core/) ///: Core traits, types, and abstractions // æ ¸å¿ƒç‰¹è´¨ã€ç±»å‹å’ŒæŠ½è±¡ /// - agents-toolkit (. web: ./agents_toolkit/) ///: Built-in tools and utilities (filesystem, todos) // å†…ç½®å·¥å…·å’Œå®ç”¨ç¨‹åºï¼ˆæ–‡ä»¶ç³»ç»Ÿã€å¾…åŠäº‹é¡¹ï¼‰ /// - agents-persistence (. web: ./agents_persistence/) ///: Database persistence (Redis, PostgreSQL) // æ•°æ®åº“æŒä¹…åŒ–ï¼ˆRedisã€PostgreSQLï¼‰ /// - agents-runtime (. web: ./agents_runtime/) ///: Async runtime and agent orchestration // å¼‚æ­¥è¿è¡Œæ—¶å’Œæ™ºèƒ½ä½“ç¼–æ’ /// - agents-aws (. web: ./agents_aws/) ///: AWS integrations (DynamoDB, Secrets Manager) // AWS é›†æˆï¼ˆDynamoDBã€Secrets Managerï¼‰"

