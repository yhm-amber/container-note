<html lang=en op=item style><!--
 Page saved with SingleFile 
 url: https://news.ycombinator.com/item?id=10954132 
 saved date: Mon Jul 03 2023 10:10:20 GMT+0800 (中国标准时间)
--><meta charset=utf-8><meta name=referrer content=origin><meta name=viewport content="width=device-width, initial-scale=1.0"><style>:root{--sf-img-0: /* original URL: https://news.ycombinator.com/triangle.svg */ url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAxNiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPHBhdGggZD0ibSAyIDI3IDE0IC0yOSAxNCAyOSB6IiBmaWxsPSIjOTk5OTk5Ii8+Cjwvc3ZnPgo=")}body{font-family:Verdana,Geneva,sans-serif;font-size:10pt;color:#828282}td{font-family:Verdana,Geneva,sans-serif;font-size:10pt;color:#828282}input{font-family:monospace;font-size:10pt}a:link{color:#000;text-decoration:none}a:visited{color:#828282;text-decoration:none}.default{font-family:Verdana,Geneva,sans-serif;font-size:10pt;color:#828282}.yclinks{font-family:Verdana,Geneva,sans-serif;font-size:8pt;color:#828282}.pagetop{font-family:Verdana,Geneva,sans-serif;font-size:10pt;color:#222;line-height:12px}.comhead{font-family:Verdana,Geneva,sans-serif;font-size:8pt;color:#828282}.comment{font-family:Verdana,Geneva,sans-serif;font-size:9pt}.hnname{margin-right:5px}#hnmain{min-width:796px}.comment a:link,.comment a:visited{text-decoration:underline}.c00,.c00 a:link{color:#000}.c73{color:#737373}.pagetop a:visited{color:#000}.comhead a:link,.subtext a:visited{color:#828282}.comhead a:hover{text-decoration:underline}.hnmore a:link,a:visited{color:#828282}.default p{margin-top:8px;margin-bottom:0px}.votearrow{width:10px;height:10px;border:0px;margin:3px 2px 6px;background:var(--sf-img-0),linear-gradient(transparent,transparent) no-repeat;background-size:10px}@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min-device-pixel-ratio:2){.votearrow{background-size:10px;background-image:var(--sf-img-0),linear-gradient(transparent,transparent)}}@media only screen and (min-width:300px) and (max-width:750px){#hnmain{width:100%;min-width:0}body{padding:0;margin:0;width:100%}td{height:inherit !important}.comment{font-size:inherit}span.pagetop{display:block;margin:3px 5px;font-size:12px;line-height:normal}span.pagetop b{display:block;font-size:15px}table.comment-tree .comment a{display:inline-block;max-width:200px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;vertical-align:top}.votearrow{transform:scale(1.3,1.3);margin-right:6px}.votelinks{min-width:18px}.votelinks a{display:block;margin-bottom:9px}input[type="text"]{font-size:16px;width:90%}}.comment{max-width:1215px;overflow-wrap:anywhere}@media only screen and (min-width:300px) and (max-width:389px){.comment{max-width:270px;overflow:hidden}}@media only screen and (min-width:390px) and (max-width:509px){.comment{max-width:350px;overflow:hidden}}@media only screen and (min-width:510px) and (max-width:599px){.comment{max-width:460px;overflow:hidden}}@media only screen and (min-width:600px) and (max-width:689px){.comment{max-width:540px;overflow:hidden}}@media only screen and (min-width:690px) and (max-width:809px){.comment{max-width:620px;overflow:hidden}}@media only screen and (min-width:810px) and (max-width:899px){.comment{max-width:730px;overflow:hidden}}@media only screen and (min-width:900px) and (max-width:1079px){.comment{max-width:810px;overflow:hidden}}@media only screen and (min-width:1080px) and (max-width:1169px){.comment{max-width:970px;overflow:hidden}}@media only screen and (min-width:1170px) and (max-width:1259px){.comment{max-width:1050px;overflow:hidden}}@media only screen and (min-width:1260px) and (max-width:1349px){.comment{max-width:1130px;overflow:hidden}}</style>
<title>&gt; Unikernels are entirely undebuggable I'm pretty sure you debug an Erlang-on-Xe... | Hacker News</title><link rel="shortcut icon" href=data:image/x-icon;base64,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 data-sf-original-href=https://news.ycombinator.com/favicon.ico><link rel=canonical href="https://news.ycombinator.com/item?id=10954132"><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style><body><center><table id=hnmain border=0 cellpadding=0 cellspacing=0 width=85% bgcolor=#f6f6ef>
 <style data-id=immersive-translate-default-injected-css>:root{--immersive-translate-theme-underline-borderColor:#72ece9;--immersive-translate-theme-nativeUnderline-borderColor:#72ece9;--immersive-translate-theme-nativeDashed-borderColor:#72ece9;--immersive-translate-theme-nativeDotted-borderColor:#72ece9;--immersive-translate-theme-highlight-backgroundColor:#ff0;--immersive-translate-theme-dashed-borderColor:#59c1bd;--immersive-translate-theme-blockquote-borderColor:#c35;--immersive-translate-theme-thinDashed-borderColor:#ff374f;--immersive-translate-theme-dashedBorder-borderColor:#94a3b8;--immersive-translate-theme-dashedBorder-borderRadius:0;--immersive-translate-theme-solidBorder-borderColor:#94a3b8;--immersive-translate-theme-solidBorder-borderRadius:0;--immersive-translate-theme-dotted-borderColor:#94a3b8;--immersive-translate-theme-wavy-borderColor:#72ece9;--immersive-translate-theme-dividingLine-borderColor:#94a3b8;--immersive-translate-theme-grey-textColor:#2f4f4f;--immersive-translate-theme-marker-backgroundColor:#fbda41;--immersive-translate-theme-marker-backgroundColor-rgb:251,218,65;--immersive-translate-theme-marker2-backgroundColor:#ff0}.immersive-translate-target-translation-block-wrapper{margin:8px 0 !important;display:inline-block}.immersive-translate-target-translation-block-wrapper-theme-dividingLine::before{content:"";display:block;max-width:80px;width:10%;border-top:1px dashed var(--immersive-translate-theme-dividingLine-borderColor);padding-top:8px}@-webkit-keyframes immersive-translate-loading-animation{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(359deg)}}@keyframes immersive-translate-loading-animation{from{transform:rotate(0deg)}to{transform:rotate(359deg)}}</style><style data-id=immersive-translate-user-custom-style>:root{--immersive-translate-theme-dividingLine-borderColor:#cf77ff}</style><tbody><tr><td bgcolor=#ff6600><table border=0 cellpadding=0 cellspacing=0 width=100% style=padding:2px><tbody><tr><td style=width:18px;padding-right:4px><a href=https://news.ycombinator.com/><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE5MiAxOTIiPjxyZWN0IHg9IjQiIHk9IjQiIHdpZHRoPSIxODgiIGhlaWdodD0iMTg4IiBmaWxsPSIjZjYwIiBzdHJva2U9IiNmZmYiPjwvcmVjdD48cGF0aCBkPSJNIDczLjI1MjE3NTYwMDExODgyLDQ1LjAxIEwgOTYsOTIuNDAxMzAwODMzMDg1NzcgTCAxMTguNzQ3ODI0Mzk5ODgxMTcsNDUuMDA5OTk5OTk5OTk5OTkgTCAxMzguMzEzNTIwNzE0NzM3MzYsNDUuMDEgTCAxMDMuOTksMTA5LjQ5NjYxNDY3NjE3MzI3IEwgMTAzLjk5LDE1MC45OSBMIDg4LjAxLDE1MC45OSBMIDg4LjAxLDEwOS40OTY2MTQ2NzYxNzMyNyBMIDUzLjY4NjQ3OTI4NTI2MjYzNSw0NS4wMTAwMDAwMDAwMDAwMDUgWiIgZmlsbD0iI2ZmZiI+PC9wYXRoPjwvc3ZnPg==" width=18 height=18 style="border:1px white solid;display:block" data-sf-original-src=https://news.ycombinator.com/y18.svg></a></td>
 <td style=line-height:12pt;height:10px><span class=pagetop><b class=hnname><a href=https://news.ycombinator.com/news>Hacker News</a></b>
 <a href=https://news.ycombinator.com/newest>new</a> | <a href=https://news.ycombinator.com/front>past</a> | <a href=https://news.ycombinator.com/newcomments>comments</a> | <a href=https://news.ycombinator.com/ask>ask</a> | <a href=https://news.ycombinator.com/show>show</a> | <a href=https://news.ycombinator.com/jobs>jobs</a> | <a href=https://news.ycombinator.com/submit>submit</a> </span><td style=text-align:right;padding-right:4px><span class=pagetop>
 <a href="https://news.ycombinator.com/login?goto=item%3Fid%3D10954132">login</a>
 </span></td>
 </table></tr>
<tr id=pagespace title="> Unikernels are entirely undebuggable I'm pretty sure you debug an Erlang-on-Xe..." style=height:10px><tr><td><table class=fatitem border=0>
 <tbody><tr class=athing id=10954132> <td class=ind><td valign=top class=votelinks>
 <center><a id=up_10954132 href="https://news.ycombinator.com/vote?id=10954132&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=derefr" class=hnuser>derefr</a> <span class=age title=2016-01-22T17:26:17><a href="https://news.ycombinator.com/item?id=10954132">on Jan 22, 2016</a></span> <span id=unv_10954132></span> <span class=navs>
 | <a href="https://news.ycombinator.com/item?id=10953766">parent</a> | <a href="https://news.ycombinator.com/context?id=10954132" rel=nofollow>context</a> | <a href="https://news.ycombinator.com/fave?id=10954132&amp;auth=7dc958d8caba80d36954c35c92c686dd5411640f">favorite</a><span class=onstory> | on: <a href="https://news.ycombinator.com/item?id=10953766">Unikernels are unfit for production</a></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">&gt; Unikernels are entirely undebuggable<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>&gt; Unikernels 完全不可调试</font></font></font><p>I'm pretty sure you debug an Erlang-on-Xen node in the same way you debug a regular Erlang node. You use the (excellent) Erlang tooling to connect to it, and interrogate it/trace it/profile it/observe it/etc. The Erlang runtime <i>is</i> an OS, in every sense of the word; running Erlang on Linux is truly just <i>redundant</i>, since you've already got all the OS you need. That's what justifies making an Erlang app a unikernel.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我非常确定您调试 Erlang-on-Xen 节点的方式与调试常规 Erlang 节点的方式相同。您使用（优秀的）Erlang 工具连接到它，并询问它/跟踪它/分析它/观察它/等等。从任何意义上来说，Erlang 运行时都是一个操作系统；在 Linux 上运行 Erlang 确实是多余的，因为您已经拥有了所需的所有操作系统。这就是将 Erlang 应用程序打造为 unikernel 的理由。</font></font></font><p>But that's an argument coming from the perspective of someone tasked with maintaining persistent long-running instances. When you're in that sort of situation, you <i>need</i> the sort of things an OS provides. And that's actually rather rare.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>但这是从负责维护持久的长期运行实例的人的角度出发的争论。当你处于这种情况时，你需要操作系统提供的东西。这实际上相当罕见。</font></font></font><p>The true "good fit" use-case of Unikernels is in immutable infrastructure. You <i>don't</i> debug a unikernel, mostly; you just kill and replace it (you "let it crash", in Erlang terms.) Unikernels are a formalization of the (already prevalent) use-case where you launch some ephemeral VMs or containers as a static, mostly-internally-stateless "release slug" of your application tier, and then roll out an upgrade by starting up new "slugs" and terminating old ones. You can't really "debug" those (except via instrumentation compiled into your app, ala NewRelic.) They're black boxes. A unikernel just statically links the whole black box together.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>Unikernels 真正“适合”的用例是在不可变的基础设施中。大多数情况下，您不会调试 Unikernel；你只需杀死并替换它（用 Erlang 术语来说就是“让它崩溃”。）Unikernels 是（已经流行的）用例的形式化，你可以将一些临时虚拟机或容器作为静态的、大部分内部无状态的“发布应用程序层的“slug”，然后通过启动新的“slug”并终止旧的“slug”来推出升级。您无法真正“调试”这些（除非通过编译到您的应用程序中的仪器，ala NewRelic）。它们是黑匣子。 Unikernel 只是将整个黑匣子静态地链接在一起。</font></font></font><p>Keep in mind, "debugging" is two things: development-time debugging and production-time debugging. It's only the latter that unikernels are fundamentally bad at. For dev-time debugging, both MirageOS and Erlang-on-Xen come with ways to compile your app as an OS process rather than as a VM image. When you are trying to <i>integration-test</i> your app, you integration-test the process version of it. When you're trying to <i>smoke-test</i> your app, you can still use the process version—or you can launch (an instrumented copy of) the VM image. Either way, it's no harder than dev-time debugging of a regular non-unikernel app.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>请记住，“调试”有两件事：开发时调试和生产时调试。单内核从根本上来说只是后者不擅长。对于开发时调试，MirageOS 和 Erlang-on-Xen 都提供了将应用程序编译为操作系统进程而不是 VM 映像的方法。当您尝试集成测试您的应用程序时，您需要集成测试它的流程版本。当您尝试对应用程序进行冒烟测试时，您仍然可以使用进程版本，或者可以启动 VM 映像（经过检测的副本）。无论哪种方式，它都不比常规非 Unikernel 应用程序的开发时调试困难。</font></font></font><div class=reply></div></span></div></tr>
 </table><br><br><table border=0 class=comment-tree>
 <tbody><tr class="athing comtr" id=10954234><td><table border=0> <tbody><tr> <td class=ind indent=0><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=0 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954234 href="https://news.ycombinator.com/vote?id=10954234&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=yunong" class=hnuser>yunong</a> <span class=age title=2016-01-22T17:37:34><a href="https://news.ycombinator.com/item?id=10954234">on Jan 22, 2016</a></span> <span id=unv_10954234></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954234 n=10>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">&gt; You don't debug a unikernel, mostly; you just kill and replace it<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>&gt; 大多数情况下，您不会调试 unikernel；你只需杀死并替换它</font></font></font><p>Curious as to how you would drive to root cause the bugs that caused the crash in the first place? If you don't root cause, won't subsequent versions still retain the same bugs?<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>想知道如何从根本上找出导致崩溃的错误吗？如果不追根究底，后续版本不是还会保留同样的bug吗？</font></font></font><p>There are bugs that can only manifest themselves in production. Any system where we don't have the ability to debug and reproduce these classes of problems in prod is essentially a non-starter for folks looking to operate reliable software.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>有些错误只能在生产中显现出来。对于那些希望运行可靠软件的人来说，任何我们无法在产品中调试和重现此类问题的系统本质上都是不可能的。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10955541><td><table border=0> <tbody><tr> <td class=ind indent=1><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=40 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10955541 href="https://news.ycombinator.com/vote?id=10955541&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=derefr" class=hnuser>derefr</a> <span class=age title=2016-01-22T20:52:43><a href="https://news.ycombinator.com/item?id=10955541">on Jan 22, 2016</a></span> <span id=unv_10955541></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>parent</a> | <a href=#10954663 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10955541 n=2>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">Personally, I wouldn't use unikernels for my custom app-tier code† (unless my app-tier either <i>was</i> Erlang, or had a framework providing all the same <i>runtime infrastructure</i> that Erlang's OTP does.)<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>就我个人而言，我不会将 unikernels 用于我的自定义应用程序层代码†（除非我的应用程序层是 Erlang，或者有一个提供与 Erlang 的 OTP 相同的运行时基础设施的框架。）</font></font></font><p>Instead, unikernels seem to me to instead be a good way to <i>harden</i> high-quality, battle-tested server software. Of two main kinds:<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>相反，在我看来，unikernels 似乎是强化高质量、经过实战考验的服务器软件的好方法。主要有两种：</font></font></font><p>• Long-running persistent-state servers that have their own management capabilities. For example, hardening Postgres (or Redis, or memcached) into a unikernel would be a great idea. A database server already cleans and maintains itself internally, and already offers "administration" facilities that completely moot OS-level interaction with the underlying hardware. (In fact, Postgres often requires you to <i>avoid</i> doing OS-level maintenance, because Postgres needs to manage changes on the box itself to be sure its own ACID guarantees are maintained. If the software has its own dedicated ops role—like a DBA—it's likely a perfect fit for unikernel-ification.)<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>• 具有自己的管理功能的长期运行的持久状态服务器。例如，将 Postgres（或 Redis、memcached）强化到 unikernel 中将是一个好主意。数据库服务器已经在内部进行了自我清理和维护，并且已经提供了“管理”设施，可以完全实现与底层硬件的操作系统级交互。 （事实上​​，Postgres 通常要求您避免进行操作系统级别的维护，因为 Postgres 需要管理机器本身的更改，以确保维护其自己的 ACID 保证。如果软件有自己的专用操作角色（例如 DBA）它可能非常适合单内核化。）</font></font></font><p>• Entirely stateless network servers. Nginx would make a great unikernel, as would Tor, as would Bind (in non-authoritative mode), as would OpenVPN. This kind of software can be harshly killed+restarted whenever it gets wedged; errors are almost never correlated/clustered; and error rates are low enough (below the statistical noise-floor where the problem may as well have been a cosmic ray flipping bits of memory) that you can just dust your hands of the responsibility for the few bugs that do occur (unless you're operating at Facebook/Google scale.) This is the same sort of software that currently works great containerized.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>• 完全无状态的网络服务器。 Nginx 将成为一个出色的 unikernel，Tor、Bind（非权威模式）、OpenVPN 也将如此。这类软件只要卡住就可以被狠狠杀掉+重启；错误几乎从不相关/聚集；并且错误率足够低（低于统计噪声底限，其中问题可能是宇宙射线翻转内存位），您可以对确实发生的少数错误承担责任（除非您'正在以 Facebook/Google 的规模运营。）这与目前容器化运行良好的软件类型相同。</font></font></font><p>---<p>† The best solution for your custom app-tier, if you really want to go the unikernels-for-everything route, might be a hybrid approach. If you run your app in both unikernel-image, <i>and</i> OS-process-on-a-Linux-VM-image setups, you'll get automatic instrumentation "for free" from the Linux-process instances, and production-level performance+security from the unikernel instances. You could effectively think of the Linux-process images as being your "debug build."<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>† 如果您确实想走unikernels for everything路线，那么您的自定义应用程序层的最佳解决方案可能是混合方法。如果您在 unikernel-image 和 Linux-VM-image 上的 OS-process-on-image 设置中运行您的应用程序，您将从 Linux-process 实例“免费”获得自动检测，以及生产级性能+来自 Unikernel 实例的安全性。您可以有效地将 Linux 进程映像视为您的“调试版本”。</font></font></font><p>Two ways of deploying such hybrid releases come to mind:<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我想到了两种部署此类混合版本的方法：</font></font></font><p>• Create cluster-pools consisting of nodes from both builds and load-balance between them. Any problems that happen should eventually happen on an instrumented (OS-process) node. This still requires you to maintain Linux VMs in production, though.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>• 创建由两个构建中的节点组成的集群池，并在它们之间进行负载平衡。发生的任何问题最终都应该发生在已检测的（操作系统进程）节点上。不过，这仍然需要您在生产环境中维护 Linux 虚拟机。</font></font></font><p>• Create a beta program for your service. Run the Linux-process images on the "beta production" environment, and the unikernel-images on the "stable production" environment. Beta users (a self-selected group) will be interacting with your new code and hopefully making it fall down in a place where it's still instrumented; paying customers will be working with a black-box system that—hopefully—most of the faults will have been worked out of. Weird things that happen in stable can be investigated (for a stateful app) by mirroring the state to the beta environment, or (for a stateless app) by accessing the data that causes the weird behavior through the beta frontend.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>• 为您的服务创建测试版计划。在“测试版生产”环境中运行 Linux 进程映像，在“稳定生产”环境中运行 unikernel 映像。 Beta 用户（一个自行选择的群体）将与您的新代码进行交互，并希望使其在仍被检测的地方落下；付费客户将使用黑匣子系统，希望该系统可以解决大部分问题。稳定版中发生的奇怪事情可以通过将状态镜像到 beta 环境来调查（对于有状态应用程序），或者（对于无状态应用程序）通过 beta 前端访问导致奇怪行为的数据。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10958229><td><table border=0> <tbody><tr> <td class=ind indent=2><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=80 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10958229 href="https://news.ycombinator.com/vote?id=10958229&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=anarazel" class=hnuser>anarazel</a> <span class=age title=2016-01-23T12:57:44><a href="https://news.ycombinator.com/item?id=10958229">on Jan 23, 2016</a></span> <span id=unv_10958229></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>root</a> | <a href=#10955541 class=clicky aria-hidden=true>parent</a> | <a href=#10954663 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10958229 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">&gt; In fact, Postgres often requires you to avoid doing OS-level maintenance, because Postgres needs to manage changes on the box itself to be sure its own ACID guarantees are maintained.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>&gt; 事实上，Postgres 通常要求您避免进行操作系统级别的维护，因为 Postgres 需要管理机器本身的更改以确保维护其自己的 ACID 保证。</font></font></font><p>Huh? What are you talking about?
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>啊？你在说什么？</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10954663><td><table border=0> <tbody><tr> <td class=ind indent=1><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=40 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954663 href="https://news.ycombinator.com/vote?id=10954663&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=lmm" class=hnuser>lmm</a> <span class=age title=2016-01-22T18:41:19><a href="https://news.ycombinator.com/item?id=10954663">on Jan 22, 2016</a></span> <span id=unv_10954663></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>parent</a> | <a href=#10955541 class=clicky aria-hidden=true>prev</a> | <a href=#10954415 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954663 n=7>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c73">With unikernels you get a lot more consistency. E.g. I once saw a bug that came down to one server using reiserfs and another using ext2. But there's no way to have that problem with a unikernels.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>使用unikernels，你可以获得更多的一致性。例如。我曾经看到一个错误，该错误归结为一台使用 reiserfs 的服务器和另一台使用 ext2 的服务器。但使用unikernels 就不会出现这个问题。</font></font></font><p>But sure, you need a debugger. So you use one. I'm not sure why the author seems to think that's so hard.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>但当然，您需要一个调试器。所以你用一个。我不知道为什么作者似乎认为这很难。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10957708><td><table border=0> <tbody><tr> <td class=ind indent=2><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=80 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10957708 href="https://news.ycombinator.com/vote?id=10957708&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=cyphar" class=hnuser>cyphar</a> <span class=age title=2016-01-23T08:46:45><a href="https://news.ycombinator.com/item?id=10957708">on Jan 23, 2016</a></span> <span id=unv_10957708></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>root</a> | <a href=#10954663 class=clicky aria-hidden=true>parent</a> | <a href=#10955544 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10957708 n=2>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">&gt; But sure, you need a debugger. So you use one. I'm not sure why the author seems to think that's so hard.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>&gt; 但当然，您需要一个调试器。所以你用一个。我不知道为什么作者似乎认为这很难。</font></font></font><p>The author wrote and continues to contribute to DTrace, which is an incredibly advanced facility for debugging and root causing problems. GDB (for example) doesn't help you solve performance problems or root-cause them, because now your performance problem has become ptrace (or whatever tracing facility GDB uses on that system).<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>作者编写并继续为 DTrace 做出贡献，DTrace 是一种非常先进的工具，用于调试和根本原因问题。 GDB（例如）不会帮助您解决性能问题或根本原因，因为现在您的性能问题已成为 ptrace（或 GDB 在该系统上使用的任何跟踪工具）。</font></font></font><p>The point he was making is that there are problems with porting DTrace to a unikernel (it violates the whole "let's remove everything" principle, and you couldn't practically modify what DTrace probes you're using at runtime becuase the only process is your misbehaving app -- good luck getting it to enable the probes you'd like to enable).
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>他提出的观点是将 DTrace 移植到 unikernel 存在问题（它违反了整个“让我们删除所有内容”原则，并且您实际上无法修改在运行时使用的 DTrace 探针，因为唯一的进程是您的行为不当的应用程序——祝你好运，让它启用你想要启用的探测器）。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10957813><td><table border=0> <tbody><tr> <td class=ind indent=3><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=120 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10957813 href="https://news.ycombinator.com/vote?id=10957813&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=lmm" class=hnuser>lmm</a> <span class=age title=2016-01-23T09:42:28><a href="https://news.ycombinator.com/item?id=10957813">on Jan 23, 2016</a></span> <span id=unv_10957813></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>root</a> | <a href=#10957708 class=clicky aria-hidden=true>parent</a> | <a href=#10955544 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10957813 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">You can't modify them from within your app, sure. You modify them from a (privileged) outside context. Allowing the app to instrument itself that thoroughly violates the principle of least privilege the author was so fond of.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>当然，您无法在应用程序内修改它们。您可以从（特权）外部上下文修改它们。允许应用程序自行检测，这完全违反了作者非常喜欢的最小特权原则。</font></font></font></span>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10955544><td><table border=0> <tbody><tr> <td class=ind indent=2><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=80 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10955544 href="https://news.ycombinator.com/vote?id=10955544&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=SideburnsOfDoom" class=hnuser>SideburnsOfDoom</a> <span class=age title=2016-01-22T20:53:06><a href="https://news.ycombinator.com/item?id=10955544">on Jan 22, 2016</a></span> <span id=unv_10955544></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>root</a> | <a href=#10954663 class=clicky aria-hidden=true>parent</a> | <a href=#10957708 class=clicky aria-hidden=true>prev</a> | <a href=#10954415 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10955544 n=4>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">&gt; With unikernels you get a lot more consistency<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>&gt; 使用 unikernels，您可以获得更高的一致性</font></font></font><p>That's not unique to unikernels. You can get that with Docker containers or EC2 instances on AWS.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>这并不是 Unikernel 所独有的。您可以通过 AWS 上的 Docker 容器或 EC2 实例来实现这一点。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10956047><td><table border=0> <tbody><tr> <td class=ind indent=3><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=120 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10956047 href="https://news.ycombinator.com/vote?id=10956047&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=lmm" class=hnuser>lmm</a> <span class=age title=2016-01-22T22:45:01><a href="https://news.ycombinator.com/item?id=10956047">on Jan 22, 2016</a></span> <span id=unv_10956047></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>root</a> | <a href=#10955544 class=clicky aria-hidden=true>parent</a> | <a href=#10954415 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10956047 n=3>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">There's a lot more that can happen differently there. Docker doesn't hide all the details of the filesystem, kernel version, or the like. With EC2 instances you're still running a kernel that has a lot of moving parts of its own.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>那里可能会发生更多不同的事情。 Docker 不会隐藏文件系统、内核版本等的所有详细信息。对于 EC2 实例，您仍然运行一个内核，该内核本身有很多移动部件。</font></font></font></span>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10962284><td><table border=0> <tbody><tr> <td class=ind indent=4><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=160 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10962284 href="https://news.ycombinator.com/vote?id=10962284&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=SideburnsOfDoom" class=hnuser>SideburnsOfDoom</a> <span class=age title=2016-01-24T12:03:14><a href="https://news.ycombinator.com/item?id=10962284">on Jan 24, 2016</a></span> <span id=unv_10962284></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>root</a> | <a href=#10956047 class=clicky aria-hidden=true>parent</a> | <a href=#10954415 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10962284 n=2>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">&gt; . With EC2 instances you're still running a kernel that has a lot of moving parts of its own.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>&gt; .对于 EC2 实例，您仍然运行一个内核，该内核本身有很多移动部件。</font></font></font><p>I'm sure that's true, but it's not a statement directly about <i>consistency</i>.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我确信这是真的，但这并不是直接关于一致性的陈述。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10963450><td><table border=0> <tbody><tr> <td class=ind indent=5><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=200 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10963450 href="https://news.ycombinator.com/vote?id=10963450&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=lmm" class=hnuser>lmm</a> <span class=age title=2016-01-24T18:40:34><a href="https://news.ycombinator.com/item?id=10963450">on Jan 24, 2016</a></span> <span id=unv_10963450></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>root</a> | <a href=#10962284 class=clicky aria-hidden=true>parent</a> | <a href=#10954415 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10963450 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">It's a lot harder to get consistency out of a non-unikernel system running on EC2 - e.g. IME the linux boot/hardware probing process can behave nondeterministically before it even starts running your user program.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>在 EC2 上运行的非 Unikernel 系统中获得一致性要困难得多 - 例如IME linux 启动/硬件探测过程甚至在开始运行用户程序之前就可能表现得不确定。</font></font></font></span>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10954415><td><table border=0> <tbody><tr> <td class=ind indent=0><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=0 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954415 href="https://news.ycombinator.com/vote?id=10954415&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=btilly" class=hnuser>btilly</a> <span class=age title=2016-01-22T18:00:30><a href="https://news.ycombinator.com/item?id=10954415">on Jan 22, 2016</a></span> <span id=unv_10954415></span> <span class=navs>
 | <a href=#10954234 class=clicky aria-hidden=true>prev</a> | <a href=#10954335 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954415 n=8>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">The problem is how to debug sporadic production problems. It doesn't matter how good your tooling is to debug a problem in a dev environment if you have no idea how to reproduce it there.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>问题是如何调试偶发的生产问题。如果您不知道如何在开发环境中重现问题，那么无论您的工具在开发环境中调试问题有多好，都没有用。</font></font></font><p>You need some level of decent logging in the production environment (with optional extra logging that can be turned on) to capture WTF went wrong. THEN you can try to reproduce it. When a logged system goes boom, you need it to come out of production and remain around until those logs are saved somewhere.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>您需要在生产环境中进行一定程度的体面日志记录（可以打开可选的额外日志记录）来捕获 WTF 错误。然后你可以尝试重现它。当记录的系统出现故障时，您需要将其停止生产并保留下来，直到这些日志保存在某个地方。</font></font></font><p>It is old, but <a href=http://lkml.iu.edu/hypermail/linux/kernel/0009.1/1307.html rel=nofollow>http://lkml.iu.edu/hypermail/linux/kernel/0009.1/1307.html</a> is an interesting data point about IBM's experience. They implemented exactly the kind of logging that I advocate in all of their systems until OS/2. And the fact that they didn't have it in OS/2 was a big problem.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>虽然很旧，但 http://lkml.iu.edu/hypermail/linux/kernel/0009.1/1307.html 是有关 IBM 经验的有趣数据点。他们在 OS/2 之前的所有系统中完全实现了我所提倡的日志记录类型。事实上，他们在 OS/2 中没有它是一个大问题。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10954517><td><table border=0> <tbody><tr> <td class=ind indent=1><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=40 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954517 href="https://news.ycombinator.com/vote?id=10954517&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=derefr" class=hnuser>derefr</a> <span class=age title=2016-01-22T18:18:02><a href="https://news.ycombinator.com/item?id=10954517">on Jan 22, 2016</a></span> <span id=unv_10954517></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>parent</a> | <a href=#10954852 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954517 n=4>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">You're right. Coming from the Erlang world, I almost implicitly assume good logging (and extremely useful task-granular crashdumps.) If you're implementing your app on a custom unikernel "platform" that isn't basically-an-OS, the first and most important step is logging the hell out of everything.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>你说得对。来自 Erlang 世界，我几乎隐含地假设良好的日志记录（以及极其有用的任务粒度崩溃转储）。如果您在自定义 unikernel“平台”上实现您的应用程序，而该平台基本上不是操作系统，那么第一个也是最重要的重要的一步是把一切都记录下来。</font></font></font></span>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10954875><td><table border=0> <tbody><tr> <td class=ind indent=2><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=80 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954875 href="https://news.ycombinator.com/vote?id=10954875&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=jupp0r" class=hnuser>jupp0r</a> <span class=age title=2016-01-22T19:09:54><a href="https://news.ycombinator.com/item?id=10954875">on Jan 22, 2016</a></span> <span id=unv_10954875></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>root</a> | <a href=#10954517 class=clicky aria-hidden=true>parent</a> | <a href=#10954852 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954875 n=3>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">But that's the case for every system of sufficient complexity (that I've seen).<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>但对于每个足够复杂的系统（我见过的）来说都是如此。</font></font></font></span>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10955569><td><table border=0> <tbody><tr> <td class=ind indent=3><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=120 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10955569 href="https://news.ycombinator.com/vote?id=10955569&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=derefr" class=hnuser>derefr</a> <span class=age title=2016-01-22T20:56:41><a href="https://news.ycombinator.com/item?id=10955569">on Jan 22, 2016</a></span> <span id=unv_10955569></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>root</a> | <a href=#10954875 class=clicky aria-hidden=true>parent</a> | <a href=#10954852 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10955569 n=2>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">There's an alternate approach that I was mentally contrasting with. You tend to see it with e.g. Ruby apps on Heroku: you can't "log into" a live app, but you <i>can</i> launch an IRB REPL—with all the app's dependencies loaded—in the context of the live app.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我在心里对比了另一种方法。你往往会看到它，例如Heroku 上的 Ruby 应用程序：您无法“登录”实时应用程序，但您可以在实时应用程序的上下文中启动 IRB REPL（加载所有应用程序的依赖项）。</font></font></font><p>Having this ability to "futz around in prod" frequently obviates the need for prescient levels of logging. You can poke at the problem until it crashes <i>for you</i>.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>拥有这种“在产品中胡思乱想”的能力通常可以消除对有先见之明的日志记录级别的需要。你可以不断地研究这个问题，直到它崩溃为止。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10961033><td><table border=0> <tbody><tr> <td class=ind indent=4><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=160 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10961033 href="https://news.ycombinator.com/vote?id=10961033&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=eropple" class=hnuser>eropple</a> <span class=age title=2016-01-24T01:26:19><a href="https://news.ycombinator.com/item?id=10961033">on Jan 24, 2016</a></span> <span id=unv_10961033></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>root</a> | <a href=#10955569 class=clicky aria-hidden=true>parent</a> | <a href=#10954852 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10961033 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">Ruby folks, don't let not being in Heroku stop you from taking this approach, because it's the <i>best</i>. pry-remote (are you using irb instead of pry? please stop) will give you the same fantastic behavior. It's part of every persistent Ruby service I deploy (guarded for internal access only, of course, don't be crazy).<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>Ruby 朋友们，不要因为没有使用 Heroku 而阻止您采用这种方法，因为它是最好的。 pry-remote （你使用 irb 而不是 pry？请停止）会给你同样奇妙的行为。它是我部署的每个持久 Ruby 服务的一部分（仅针对内部访问进行保护，当然，不要疯狂）。</font></font></font><p><a href=https://github.com/Mon-Ouie/pry-remote rel=nofollow>https://github.com/Mon-Ouie/pry-remote</a>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10954852><td><table border=0> <tbody><tr> <td class=ind indent=1><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=40 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954852 href="https://news.ycombinator.com/vote?id=10954852&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=edwintorok" class=hnuser>edwintorok</a> <span class=age title=2016-01-22T19:06:17><a href="https://news.ycombinator.com/item?id=10954852">on Jan 22, 2016</a></span> <span id=unv_10954852></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>parent</a> | <a href=#10954517 class=clicky aria-hidden=true>prev</a> | <a href=#10954335 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954852 n=3>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">I haven't tried deploying a unikernel in production yet - I've been mostly using/debugging only OCaml code on Linux in production - but it should be possible to implement the kind of logging you describe.
For example I've seen a project that would collect&amp;dump its log ring-buffer when an exception was encountered in a unikernel, or one that collects very detailed profiling information from a unikernel.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我还没有尝试在生产中部署 unikernel - 我主要在生产中的 Linux 上使用/调试 OCaml 代码 - 但应该可以实现您所描述的日志记录类型。例如，我见过一个项目，当在 unikernel 中遇到异常时，它会收集并转储其日志环缓冲区，或者一个从 unikernel 收集非常详细的分析信息的项目。</font></font></font><p>It would be nice to have some kind of a "shell" to inspect details about the application when something goes wrong, but that applies equally to non-unikernel applications.
The difference is that with unikernels the debugging tool would be provided as a library, whereas with traditional applications debugging is provided as a language-independent OS tool.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>当出现问题时，最好有某种“外壳”来检查应用程序的详细信息，但这同样适用于非单内核应用程序。不同之处在于，对于 unikernels，调试工具将作为库提供，而对于传统应用程序，调试工具作为独立于语言的操作系统工具提供。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10958119><td><table border=0> <tbody><tr> <td class=ind indent=2><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=80 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10958119 href="https://news.ycombinator.com/vote?id=10958119&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=talex5" class=hnuser>talex5</a> <span class=age title=2016-01-23T12:11:00><a href="https://news.ycombinator.com/item?id=10958119">on Jan 23, 2016</a></span> <span id=unv_10958119></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>root</a> | <a href=#10954852 class=clicky aria-hidden=true>parent</a> | <a href=#10956565 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10958119 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">Just to add some links for those (I assume these are the ones you mean):<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>只是为这些添加一些链接（我假设这些是您的意思）：</font></font></font><p>Dumping the debug-level log ring-buffer on exception:<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>发生异常时转储调试级别日志环缓冲区：</font></font></font><p><a href=http://lists.xenproject.org/archives/html/mirageos-devel/2016-01/msg00027.html rel=nofollow>http://lists.xenproject.org/archives/html/mirageos-devel/201...</a><p>Detailed profiling (interactive JavaScript viewer for thread interactions):<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>详细分析（用于线程交互的交互式 JavaScript 查看器）：</font></font></font><p><a href=https://mirage.io/wiki/profiling rel=nofollow>https://mirage.io/wiki/profiling</a>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10956565><td><table border=0> <tbody><tr> <td class=ind indent=2><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=80 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10956565 href="https://news.ycombinator.com/vote?id=10956565&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=nulltype" class=hnuser>nulltype</a> <span class=age title=2016-01-23T00:39:48><a href="https://news.ycombinator.com/item?id=10956565">on Jan 23, 2016</a></span> <span id=unv_10956565></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>root</a> | <a href=#10954852 class=clicky aria-hidden=true>parent</a> | <a href=#10958119 class=clicky aria-hidden=true>prev</a> | <a href=#10954335 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10956565 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">I use Go on App Engine and have never been able to SSH or GDB those machines. Nevertheless, I am still able to debug issues in my app.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我在 App Engine 上使用 Go，但从未能够通过 SSH 或 GDB 那些机器。尽管如此，我仍然能够调试我的应用程序中的问题。</font></font></font><p>I admit that debugging is easier on platforms where you get more control.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我承认，在您拥有更多控制权的平台上，调试会更容易。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10954335><td><table border=0> <tbody><tr> <td class=ind indent=0><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=0 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954335 href="https://news.ycombinator.com/vote?id=10954335&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=marcosdumay" class=hnuser>marcosdumay</a> <span class=age title=2016-01-22T17:48:57><a href="https://news.ycombinator.com/item?id=10954335">on Jan 22, 2016</a></span> <span id=unv_10954335></span> <span class=navs>
 | <a href=#10954415 class=clicky aria-hidden=true>prev</a> | <a href=#10954187 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954335 n=2>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">&gt; It's only the latter that unikernels are fundamentally bad at.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>&gt; 单内核从根本上来说只是后者不擅长。</font></font></font><p>Well, that's the point of the article.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>嗯，这就是文章的重点。</font></font></font><p>What good does restarting your service do if the issue will stay there, and come back again later?
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>如果问题仍然存在并稍后再次出现，那么重新启动服务有什么好处呢？</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10955217><td><table border=0> <tbody><tr> <td class=ind indent=1><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=40 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10955217 href="https://news.ycombinator.com/vote?id=10955217&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=im_down_w_otp" class=hnuser>im_down_w_otp</a> <span class=age title=2016-01-22T20:04:02><a href="https://news.ycombinator.com/item?id=10955217">on Jan 22, 2016</a></span> <span id=unv_10955217></span> <span class=navs>
 | <a href=#10954335 class=clicky aria-hidden=true>parent</a> | <a href=#10954187 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10955217 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">It's also not true though.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>但这也不是真的。</font></font></font><p>Running a LING unikernel gets you a huge set of tracing and debugging capabilities that aren't 100% compatible with what's provided by BEAM, but it's close and a couple orders of magnitude better than what almost any other language provides for mucking with a live system; unikernel or not.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>运行 LING unikernel 可以为您提供大量的跟踪和调试功能，这些功能与 BEAM 提供的功能并非 100% 兼容，但它已经很接近了，并且比几乎任何其他语言为实时系统提供的清理功能要好几个数量级;是否是单内核。</font></font></font><p>Running Erlang via Rumprun gets you a standard BEAM/erts release packaged as a VM image or a bootable ISO, and that is just straight up Erlang. So all the absolutely excellent debugging, tracing, and profiling facilities that any random Erlang application has access to are also accessible when deployed as a unikernel (rumpkernel).
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>通过 Rumprun 运行 Erlang 可以获得打包为 VM 映像或可启动 ISO 的标准 BEAM/erts 版本，这就是直接的 Erlang。因此，当部署为 unikernel (rumpkernel) 时，任何随机 Erlang 应用程序都可以访问所有绝对优秀的调试、跟踪和分析工具。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10954187><td><table border=0> <tbody><tr> <td class=ind indent=0><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=0 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954187 href="https://news.ycombinator.com/vote?id=10954187&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=jupp0r" class=hnuser>jupp0r</a> <span class=age title=2016-01-22T17:33:15><a href="https://news.ycombinator.com/item?id=10954187">on Jan 22, 2016</a></span> <span id=unv_10954187></span> <span class=navs>
 | <a href=#10954335 class=clicky aria-hidden=true>prev</a> | <a href=#10955515 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954187 n=2>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">Exactly my thoughts. In addition, I doubt that the author is familiar with the principles of OTP (or immutable services in general), or he wouldn't dismiss restarting a service once it misbehaves as impractical.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>正是我的想法。另外，我怀疑作者是否熟悉 OTP（或一般的不可变服务）的原理，或者他不会因为服务出现问题而认为重新启动服务不切实际而拒绝这样做。</font></font></font></span>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10954231><td><table border=0> <tbody><tr> <td class=ind indent=1><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=40 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10954231 href="https://news.ycombinator.com/vote?id=10954231&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=geofft" class=hnuser>geofft</a> <span class=age title=2016-01-22T17:37:14><a href="https://news.ycombinator.com/item?id=10954231">on Jan 22, 2016</a></span> <span id=unv_10954231></span> <span class=navs>
 | <a href=#10954187 class=clicky aria-hidden=true>parent</a> | <a href=#10955515 class=clicky aria-hidden=true>next</a> <a class="togg clicky" id=10954231 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">I think most people are unfamiliar with Erlang/OTP. Even if I converted my entire team over, I don't know how I'd hire new people without developing strong internal training.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我想大多数人都不熟悉 Erlang/OTP。即使我对整个团队进行了转型，我也不知道在不进行强有力的内部培训的情况下如何雇用新员工。</font></font></font><p>Perhaps that means the real argument is "Unikernels are unfit for production for people who aren't comfortable with the Erlang/OTP way of doing things." Yes, this isn't a technical argument, but—most people, most customers, don't even see SmartOS + Linux emulation as suitable for production (and I imagine the author knows that), not for any technical reason but just for unfamiliarity. And that's still a UNIX working in UNIXy ways.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>也许这意味着真正的论点是“Unikernels 不适合那些不习惯 Erlang/OTP 做事方式的人进行生产。”是的，这不是一个技术争论，但是大多数人、大多数客户甚至不认为 SmartOS + Linux 模拟适合生产（我想作者知道这一点），不是出于任何技术原因，而只是因为不熟悉。这仍然是一个以 UNIXy 方式工作的 UNIX。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10955515><td><table border=0> <tbody><tr> <td class=ind indent=0><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=0 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10955515 href="https://news.ycombinator.com/vote?id=10955515&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=hinkley" class=hnuser>hinkley</a> <span class=age title=2016-01-22T20:48:41><a href="https://news.ycombinator.com/item?id=10955515">on Jan 22, 2016</a></span> <span id=unv_10955515></span> <span class=navs>
 | <a href=#10954187 class=clicky aria-hidden=true>prev</a> <a class="togg clicky" id=10955515 n=5>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">Hell, a lot of the base docker images I've been using lately don't even come with netstat or vim on them.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>天啊，我最近使用的很多基本 docker 镜像甚至都没有附带 netstat 或 vim。</font></font></font><p>I'm already feeling the "can't debug" pinch and we haven't even started getting into unikernels yet.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我已经感受到了“无法调试”的压力，而且我们甚至还没有开始进入 unikernels。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10955815><td><table border=0> <tbody><tr> <td class=ind indent=1><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=40 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10955815 href="https://news.ycombinator.com/vote?id=10955815&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=zokier" class=hnuser>zokier</a> <span class=age title=2016-01-22T21:49:48><a href="https://news.ycombinator.com/item?id=10955815">on Jan 22, 2016</a></span> <span id=unv_10955815></span> <span class=navs>
 | <a href=#10955515 class=clicky aria-hidden=true>parent</a> <a class="togg clicky" id=10955815 n=4>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">I thought the idiomatic way of debugging containerized applications was from the host system, not from inside the container. The tooling surely can still be improved, but fundamentally the host has full view to the innards of containers.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我认为调试容器化应用程序的惯用方法是从主机系统，而不是从容器内部。工具肯定还可以改进，但从根本上来说，主机可以全面了解容器的内部结构。</font></font></font></span>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10956112><td><table border=0> <tbody><tr> <td class=ind indent=2><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=80 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10956112 href="https://news.ycombinator.com/vote?id=10956112&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=hinkley" class=hnuser>hinkley</a> <span class=age title=2016-01-22T22:57:11><a href="https://news.ycombinator.com/item?id=10956112">on Jan 22, 2016</a></span> <span id=unv_10956112></span> <span class=navs>
 | <a href=#10955515 class=clicky aria-hidden=true>root</a> | <a href=#10955815 class=clicky aria-hidden=true>parent</a> <a class="togg clicky" id=10956112 n=3>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">I can't tell if I'm exposing the wrong port(s) (or rather, PORTing the wrong EXPOSES, please shoot whoever inverted <i>that</i> terminology). I also can't easily tell if I'm getting relative paths wrong, and I can't rapidly iterate on fixing the problem. That's where you really feel the debugging problems. The drag of day to day troubleshooting of new configuration or tools can still be pretty challenging.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我无法判断我是否暴露了错误的端口（或者更确切地说，移植了错误的暴露，请射击任何颠倒该术语的人）。我也无法轻易判断相对路径是否错误，并且无法快速迭代解决问题。这就是你真正感受到调试问题的地方。新配置或工具的日常故障排除仍然非常具有挑战性。</font></font></font><p>Stuff tends to stay working once you get it working though, so that evens up the score a bit, but I'd really love it if getting there were smoothed out a bit.
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>一旦你让它工作起来，东西往往会保持工作状态，这样可以稍微平衡分数，但如果到达那里能稍微平滑一些，我真的很喜欢它。</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10957715><td><table border=0> <tbody><tr> <td class=ind indent=3><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=120 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10957715 href="https://news.ycombinator.com/vote?id=10957715&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=cyphar" class=hnuser>cyphar</a> <span class=age title=2016-01-23T08:49:45><a href="https://news.ycombinator.com/item?id=10957715">on Jan 23, 2016</a></span> <span id=unv_10957715></span> <span class=navs>
 | <a href=#10955515 class=clicky aria-hidden=true>root</a> | <a href=#10956112 class=clicky aria-hidden=true>parent</a> <a class="togg clicky" id=10957715 n=2>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">Are you talking about debugging code running a container or debugging Docker? Because we're all talking about the former, not the latter.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>您是在谈论调试运行容器的代码还是调试 Docker？因为我们都在谈论前者，而不是后者。</font></font></font></span>
 <div class=reply> <p><font size=1>
 </font>
 </p></div></div></tr>
 </table></tr>
 <tr class="athing comtr" id=10959521><td><table border=0> <tbody><tr> <td class=ind indent=4><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=1 width=160 data-sf-original-src=https://news.ycombinator.com/s.gif><td valign=top class=votelinks>
 <center><a id=up_10959521 href="https://news.ycombinator.com/vote?id=10959521&amp;how=up&amp;goto=item%3Fid%3D10954132"><div class=votearrow title=upvote></div></a></center> <td class=default><div style=margin-top:2px;margin-bottom:-10px><span class=comhead>
 <a href="https://news.ycombinator.com/user?id=hinkley" class=hnuser>hinkley</a> <span class=age title=2016-01-23T19:02:21><a href="https://news.ycombinator.com/item?id=10959521">on Jan 23, 2016</a></span> <span id=unv_10959521></span> <span class=navs>
 | <a href=#10955515 class=clicky aria-hidden=true>root</a> | <a href=#10957715 class=clicky aria-hidden=true>parent</a> <a class="togg clicky" id=10959521 n=1>[–]</a><span class=onstory></span> </span>
 </span></div><br><div class=comment>
 <span class="commtext c00">Ah, I tend to define "debug" not as "the act of using a debugger tool" but as "diagnosing the broken things".<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>啊，我倾向于将“调试”定义为“诊断损坏的东西”，而不是“使用调试器工具的行为”。</font></font></font><p>Makes me fairly useful in a crisis, but possibly less so in this thread.<font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>让我在危机中相当有用，但在这个线程中可能不太有用。</font></font></font><p>I would think a remote debugger would work just fine in a container, at least once you documented how, but to zokier's point the only reason you'd do that is if the problem isn't repeatable outside the container. To me that means a couple possibilities. Bug in the docker scripts, bug in the unikernal generator, or a timing issue, which a debugger won't help you with very much (timing bugs are often also heisenbugs)
 <font class="notranslate immersive-translate-target-wrapper" lang=zh-CN data-immersive-translate-translation-element-mark=1><br><font class="notranslate immersive-translate-target-translation-theme-dividingLine immersive-translate-target-translation-block-wrapper-theme-dividingLine immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-dividingLine-inner" data-immersive-translate-translation-element-mark=1>我认为远程调试器在容器中工作得很好，至少在您记录了如何工作之后，但对于 zokier 来说，您这样做的唯一原因是问题在容器外不可重复。对我来说，这意味着几种可能性。 docker 脚本中的错误、unikernal 生成器中的错误或计时问题，调试器不会为您提供太多帮助（计时错误通常也是 heisenbug）</font></font></font><div class=reply> <p><font size=1>
 </font>
 </p></div></span></div></tr>
 </table></tr>
 </table>
 <br><br>
</tr>
<tr><td><img src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" height=10 width=0 data-sf-original-src=https://news.ycombinator.com/s.gif><table width=100% cellspacing=0 cellpadding=1><tbody><tr><td bgcolor=#ff6600></table><br>
<center><span class=yclinks><a href=https://news.ycombinator.com/newsguidelines.html>Guidelines</a> | <a href=https://news.ycombinator.com/newsfaq.html>FAQ</a> | <a href=https://news.ycombinator.com/lists>Lists</a> | <a href=https://github.com/HackerNews/API>API</a> | <a href=https://news.ycombinator.com/security.html>Security</a> | <a href=https://www.ycombinator.com/legal/>Legal</a> | <a href=https://www.ycombinator.com/apply/>Apply to YC</a> | <a href=mailto:hn@ycombinator.com>Contact</a></span><br><br>
<form action=//hn.algolia.com/>Search: <input type=text name=q size=17 autocorrect=off spellcheck=false autocapitalize=off autocomplete=false value></form></center></tr> </table></center>
 
 
<script>document.currentScript.remove();!function(){"use strict";(t=>{const n="singlefile-infobar",e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kj1Iw0AYht+mSkUrDnYQcchQnSyIijqWKhbBQmkrtOpgcukfNGlIUlwcBdeCgz+LVQcXZ10dXAVB8AfEydFJ0UVK/C4ptIjx4LiH9+59+e67A4RGhalm1wSgapaRisfEbG5VDLyiDwEAvZiVmKkn0osZeI6ve/j4ehfhWd7n/hz9St5kgE8kjjLdsIg3iGc2LZ3zPnGIlSSF+Jx43KACiR+5Lrv8xrnosMAzQ0YmNU8cIhaLHSx3MCsZKvE0cVhRNcoXsi4rnLc4q5Uaa9XJbxjMaytprtMcQRxLSCAJETJqKKMCCxFaNVJMpGg/5uEfdvxJcsnkKoORYwFVqJAcP/gb/O6tWZiadJOCMaD7xbY/RoHALtCs2/b3sW03TwD/M3Cltf3VBjD3SXq9rYWPgIFt4OK6rcl7wOUOMPSkS4bkSH6aQqEAvJ/RM+WAwVv6EGtu31r7OH0AMtSr5Rvg4BAYK1L2use9ezr79u+ZVv9+AFlNcp0UUpiqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5AsHAB8H+DhhoQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAJUExURQAAAICHi4qKioTuJAkAAAABdFJOUwBA5thmAAAAAWJLR0QCZgt8ZAAAAJJJREFUOI3t070NRCEMA2CnYAOyDyPwpHj/Va7hJ3FzV7zy3ET5JIwoAF6Jk4wzAJAkzxAYG9YRTgB+24wBgKmfrGAKTcEfAY4KRlRoIeBTgKOCERVaCPgU4Khge2GqKOBTgKOCERVaAEC/4PNcnyoSWHpjqkhwKxbcig0Q6AorXYF/+A6eIYD1lVbwG/jdA6/kA2THRAURVubcAAAAAElFTkSuQmCC",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kj1Iw0AYht+mSkUrDnYQcchQnSyIijqWKhbBQmkrtOpgcukfNGlIUlwcBdeCgz+LVQcXZ10dXAVB8AfEydFJ0UVK/C4ptIjx4LiH9+59+e67A4RGhalm1wSgapaRisfEbG5VDLyiDwEAvZiVmKkn0osZeI6ve/j4ehfhWd7n/hz9St5kgE8kjjLdsIg3iGc2LZ3zPnGIlSSF+Jx43KACiR+5Lrv8xrnosMAzQ0YmNU8cIhaLHSx3MCsZKvE0cVhRNcoXsi4rnLc4q5Uaa9XJbxjMaytprtMcQRxLSCAJETJqKKMCCxFaNVJMpGg/5uEfdvxJcsnkKoORYwFVqJAcP/gb/O6tWZiadJOCMaD7xbY/RoHALtCs2/b3sW03TwD/M3Cltf3VBjD3SXq9rYWPgIFt4OK6rcl7wOUOMPSkS4bkSH6aQqEAvJ/RM+WAwVv6EGtu31r7OH0AMtSr5Rvg4BAYK1L2use9ezr79u+ZVv9+AFlNcp0UUpiqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5AsHAB8VC4EQ6QAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAJUExURQAAAICHi4qKioTuJAkAAAABdFJOUwBA5thmAAAAAWJLR0QCZgt8ZAAAAJtJREFUOI3NkrsBgCAMRLFwBPdxBArcfxXFkO8rbKWAAJfHJ9faf9vuYX/749T5NmShm3bEwbe2SxeuM4+2oxDL1cDoKtVUjRy+tH78Cv2CS+wIiQNC1AEhk4AQeUTMWUJMfUJMSEJMSEY8kIx4IONroaYAimNxsXp1PA7PxwfVL8QnowwoVC0lig07wDDVUjAdbAnjwtow/z/bDW7eI4M2KruJAAAAAElFTkSuQmCC",i="SingleFile",A="single-file-ui-element",r="\n\t.infobar {\n\t\tbackground-color: #737373;\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t\tposition: fixed;\n\t\ttop: 16px;\n\t\tright: 16px;\n\t\theight: auto;\n\t\twidth: auto;\n\t\tmin-height: 24px;\n\t\tmin-width: 24px;\n\t\tbackground-position: center;\n\t\tbackground-repeat: no-repeat;\n\t\tz-index: 2147483647;\n\t\tmargin: 0 0 0 16px;\n\t\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kj1Iw0AYht+mSkUrDnYQcchQnSyIijqWKhbBQmkrtOpgcukfNGlIUlwcBdeCgz+LVQcXZ10dXAVB8AfEydFJ0UVK/C4ptIjx4LiH9+59+e67A4RGhalm1wSgapaRisfEbG5VDLyiDwEAvZiVmKkn0osZeI6ve/j4ehfhWd7n/hz9St5kgE8kjjLdsIg3iGc2LZ3zPnGIlSSF+Jx43KACiR+5Lrv8xrnosMAzQ0YmNU8cIhaLHSx3MCsZKvE0cVhRNcoXsi4rnLc4q5Uaa9XJbxjMaytprtMcQRxLSCAJETJqKKMCCxFaNVJMpGg/5uEfdvxJcsnkKoORYwFVqJAcP/gb/O6tWZiadJOCMaD7xbY/RoHALtCs2/b3sW03TwD/M3Cltf3VBjD3SXq9rYWPgIFt4OK6rcl7wOUOMPSkS4bkSH6aQqEAvJ/RM+WAwVv6EGtu31r7OH0AMtSr5Rvg4BAYK1L2use9ezr79u+ZVv9+AFlNcp0UUpiqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5AsHADIRLMaOHwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAPUExURQAAAIqKioyNjY2OjvDw8L2y1DEAAAABdFJOUwBA5thmAAAAAWJLR0QB/wIt3gAAAGNJREFUSMdjYCAJsLi4OBCQx6/CBQwIGIDPCBcXAkYQUsACU+AwlBVQHg6Eg5pgZBGOboIJZugDFwRwoJECJCUOhJI1wZwzqmBUwagCuipgIqTABG9h7YIKaKGAURAFEF/6AQAO4HqSoDP8bgAAAABJRU5ErkJggg==);\n\t\tborder-radius: 16px;\n\t\tuser-select: none;\n\t\t-moz-user-select: none;\n\t\topacity: .7;\n\t\tcursor: pointer;\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\t\tpadding-top: 0;\n\t\tpadding-bottom: 0;\n\t\tborder: 2px solid #eee;\n\t\tbackground-size: 70% 70%;\n\t\ttransition: all 250ms;\n\t\tfont-size: 13px;\n\t}\n\t.infobar:hover {\n\t\topacity: 1;\n\t}\n\t.infobar-open {\n\t\topacity: 1;\n\t\tbackground-color: #f9f9f9;\n\t\tcursor: auto;\n\t\tcolor: #2d2d2d;\n\t\tpadding-top: 2px;\n\t\tpadding-bottom: 2px;\n\t\tborder: 2px solid #878787;\n\t\tbackground-image: none;\n\t\tborder-radius: 8px;\n\t\tuser-select: initial;\n\t\t-moz-user-select: initial;\n\t}\n\t.infobar-close-button {\n\t\tdisplay: none;\n\t\topacity: .7;\n\t\tpadding-top: 4px;\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t\tcursor: pointer;\n\t\ttransition: opacity 250ms;\n\t\theight: 16px;\n\t}\n\t.infobar-close-button:hover {\n\t\topacity: 1;\n\t}\n\t.infobar-content {\n\t\tdisplay: none;\n\t\tfont-family: Arial;\n\t\tfont-size: 14px;\n\t\tline-height: 22px;\n\t\tword-break: break-word;\n\t\twhite-space: pre-wrap;\n\t\tposition: relative;\n\t\ttop: 1px;\n\t\ttext-align: left;\n\t}\n\t.infobar-link {\n\t\tdisplay: none;\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t\tline-height: 11px;\n\t\tcursor: pointer;\n\t\tuser-select: none;\n\t\toutline: 0;\n\t}\n\t.infobar-link-icon {\n\t\tpadding-top: 4px;\n\t\tpadding-left: 2px;\n\t\tcursor: pointer;\n\t\topacity: .7;\n\t\ttransition: opacity 250ms;\n\t\theight: 16px;\n\t}\n\t.infobar-link-icon:hover {\n\t\topacity: 1;\n\t}\n\t.infobar-open .infobar-close-button, .infobar-open .infobar-content, .infobar-open .infobar-link {\n\t\tdisplay: inline-block;\n\t}";let a=!0;const c=t.browser;async function s(){const t=document.evaluate("//comment()",document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);let s=t&&t.singleNodeValue;if(s&&((p=s).nodeType==Node.COMMENT_NODE&&p.textContent.includes(i))){const t=s.textContent.split("\n"),[,,i,...p]=t,g=i.match(/^ url: (.*) $/),h=g&&g[1];if(h){let t;if(c&&c.runtime&&c.runtime.sendMessage)try{t=await c.runtime.sendMessage({method:"tabs.getOptions",url:h})}catch(n){t={displayInfobar:!0}}else t={displayInfobar:!0};t.displayInfobar&&await async function(t,i){let c=document.querySelector(n);if(!c){let s="";if(i.length){const t=i[0].split("saved date: ")[1];if(t&&i.shift(),i.length>1){let t=i[0].split("info: ")[1].trim();for(let n=1;n<i.length-1;n++)t+="\n"+i[n].trim();s=t.trim()}else s=t}s=s||"No info",c=d(n,document.body),c.className=A;const p=await async function(t){if(t.attachShadow)return t.attachShadow({mode:"open"});{a=!1;const n=d("iframe",t);return n.style.setProperty("background-color","transparent","important"),n.style.setProperty("position","fixed","important"),n.style.setProperty("top",0,"important"),n.style.setProperty("right",0,"important"),n.style.setProperty("width","44px","important"),n.style.setProperty("height","48px","important"),n.style.setProperty("z-index",2147483647,"important"),new Promise((t=>{n.contentDocument.body.style.setProperty("margin",0),n.onload=()=>t(n.contentDocument.body)}))}}(c),g=document.createElement("style");g.textContent=r,p.appendChild(g);const h=document.createElement("div");h.classList.add("infobar"),p.appendChild(h);const u=document.createElement("img");u.classList.add("infobar-close-button"),h.appendChild(u),u.src=o,u.onclick=t=>{0===t.button&&c.remove()};const m=document.createElement("span");h.appendChild(m),m.classList.add("infobar-content"),m.textContent=s;const f=document.createElement("a");f.classList.add("infobar-link"),h.appendChild(f),f.target="_blank",f.rel="noopener noreferrer",f.title="Open source URL: "+t,f.href=t;const b=document.createElement("img");b.classList.add("infobar-link-icon"),f.appendChild(b),b.src=e,l(h),document.addEventListener("click",(t=>{if(0===t.button){let n=t.target;for(;n&&n!=c;)n=n.parentElement;n!=c&&l(h)}}))}}(h,p)}}var p}function l(t){if(t.classList.remove("infobar-open"),t.onclick=e=>{if(0===e.button)return function(t){a||document.querySelector(n).childNodes[0].contentWindow.getSelection().removeAllRanges();if(t.classList.add("infobar-open"),t.onclick=null,t.onmouseout=null,!a){const e=document.querySelector(n).childNodes[0];e.style.setProperty("width","100vw","important"),e.style.setProperty("height","100vh","important"),e.style.setProperty("width",t.getBoundingClientRect().width+33+"px","important"),e.style.setProperty("height",t.getBoundingClientRect().height+21+"px","important")}}(t),!1},!a){const t=document.querySelector(n).childNodes[0];t.style.setProperty("width","44px","important"),t.style.setProperty("height","48px","important")}}function d(t,n){const e=document.createElement(t);return n.appendChild(e),Array.from(getComputedStyle(e)).forEach((t=>e.style.setProperty(t,"initial","important"))),e}t.window==t.top&&("loading"==document.readyState?document.addEventListener("DOMContentLoaded",s,!1):s())})("object"==typeof globalThis?globalThis:window)}();
</script>