: :: ğŸ¥½ this tool is a builder ğŸ¥½ :: :
: :: ğŸ¦· to take files on node into a oci ğŸ¦· :: :
: :: ğŸ¡ and run the oci will untar files into target dir ğŸ¡ :: :


ğŸ“œ


: name
: targeto - ğŸ‘™ Tar Gettor as OCI ğŸ‘™



: version
: see src.sh




: usage ğŸ§ƒ

targeto take foo-initor /opt/sdk0:/opt/sdk1 $PWD/app:/opt/app

: ğŸ”© then you get an oci image named `foo-initor` .
: ğŸ¦ there is /opt/sdk0 in image same as /opt/sdk0 on your node .



: or ğŸ¸

targeto disc /opt/sdk0:sdk-initor:/opt/sdk1 $PWD/app:app-initor:/opt/app

: same as

targeto take sdk-initor /opt/sdk0:/opt/sdk1
targeto take app-initor $PWD/app:/opt/app

: ğŸ”© then you can use the `foo-initor` as you like .
: ğŸ¦ such as `init container` in Kubernetes pods .





: flags ğŸ¥™



: ğŸ§» compress level

COMP_LEVEL=16 targeto disc /opt/sdk0:sdk-initor:/opt/sdk1 $PWD/app:app-initor:/opt/app

: this can set a number about zstd compress .

: if number is smaller: then init will be faster .
: if number is bigger: then init will be smaller .

: â›² row-table delimiter

RTB_D='^' targeto disc /opt/sdk0'^'reg.io:8800/binaries/sdk-initor:v0.1'^'/opt/sdk1 $PWD/app'^'app-initor:v2.0'^'/opt/app

: this can set the row-delimiter as '^' like here .
: and so you can use more char on your rows .






: more ğŸ¥—
: see src.sh






: :::: :::: :: :::: :::: :

: ç®€å•è®²è®² ğŸ¦ª

: æˆ‘åœ¨æ¬¢è¿é‡Œå†™çš„å®‰è£…æ˜¯ä¼šè®©ä½ ç”¨å®¹å™¨å¤–çš„ç¯å¢ƒè¿è¡Œå®ƒ
: è¿è¡Œå®ƒå°±æ˜¯å¸®ä½ æŠŠä½ éœ€è¦æ‰“åŒ…çš„ä¸œè¥¿æ‰“åŒ…
: å®ƒ (targeto) æ˜¯ä¸€ä¸ª Bash è„šæœ¬ï¼ˆ dash æˆ–è®¸ä¹Ÿå¯ä»¥ä½†æˆ‘æ²¡æµ‹ï¼‰

: è„šæœ¬è¿è¡Œéœ€è¦ zstd å‘½ä»¤
: å¦‚æœä½ æ²¡æœ‰è¿™ä¸ªå‘½ä»¤çš„è¯æ¬¢è¿ç•Œé¢æœ‰è¡Œèƒ½å¸®ä½ å®‰è£…å®ƒâ€”â€”åŸç†æ˜¯å¤ç”¨ targeto é•œåƒä¸­çš„ zstd å‘½ä»¤

: ç»™ä½ æ‰“åŒ…å¥½å‹ç¼©åŒ…å¹¶æ„å»ºé•œåƒå
: é•œåƒçš„é»˜è®¤ï¼ˆä¸ä¼ å‚ï¼‰è¿è¡Œæ•ˆæœå°±æ˜¯æŠŠç›¸å…³æ–‡ä»¶è§£åŒ…åˆ°å®ƒåŸæ¥çš„ç›®å½•ï¼ˆæŒ‰ç…§ç»å¯¹è·¯å¾„ï¼‰
: å¦‚æœä½ è¦ç”¨å®ƒå½“ä½œ init container çš„è¯ä½ åº”è¯¥éœ€è¦æŠŠè¿™ä¸ªç›®å½•æŒ‚ç»™ä¸€ä¸ªä¸´æ—¶å·
: è¿™æ ·å®ƒå°±ä¼šå‘è¿™ä¸ªä¸´æ—¶å·æ·»åŠ è¯¥æ·»åŠ çš„ä¸œè¥¿

: ä½ è¿˜å¯ä»¥ä¸¾ä¸€åä¸‰
: åœ¨ä»»ä½•å¯è¿è¡Œ OCI å®¹å™¨çš„åœ°æ–¹å»ç”¨
: æ¯”å¦‚ Eru2 ã€ nomad ã€æˆ–è€…ï¼ˆç›®å‰ï¼‰ä¼—æ‰€å‘¨çŸ¥çš„ Kubernetes æˆ–è€…åªæ˜¯è®©è¿™ä¸ªé•œåƒå¸®ä½ åˆå§‹åŒ–å¥½ä¸€ä¸ª docker volume ã€‚

: ç”¨å˜é‡ COMP_LEVEL æŒ‡å®š zstd çš„å‹ç¼©ç³»æ•°
: æ•°å­—è¶Šå°çš„è¯åˆ°æ—¶å€™çš„ init è€—æ—¶è¶Šå°‘
: æ•°å­—è¶Šå¤§çš„è¯åˆ°æ—¶å€™çš„ init é•œåƒä½“ç§¯è¶Šå°
: æ•°å­—é»˜è®¤å¥½åƒæ˜¯ 13 æ¥ç€å§ï¼Ÿâ€¦â€¦ ğŸ§Š





ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾ğŸ¦¾
ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦ğŸ¦






